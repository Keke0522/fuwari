[["Map",1,2,9,10,74,75],"meta::meta",["Map",3,4,5,6,7,8],"astro-version","5.7.12","content-config-digest","1c2e1cd3cc1c8bde","astro-config-digest","{\"root\":{},\"srcDir\":{},\"publicDir\":{},\"outDir\":{},\"cacheDir\":{},\"site\":\"https://fuwari.vercel.app/\",\"compressHTML\":true,\"base\":\"/\",\"trailingSlash\":\"always\",\"output\":\"static\",\"scopedStyleStrategy\":\"attribute\",\"build\":{\"format\":\"directory\",\"client\":{},\"server\":{},\"assets\":\"_astro\",\"serverEntry\":\"entry.mjs\",\"redirects\":true,\"inlineStylesheets\":\"auto\",\"concurrency\":1},\"server\":{\"open\":false,\"host\":true,\"port\":4321,\"streaming\":true,\"allowedHosts\":[]},\"redirects\":{},\"image\":{\"endpoint\":{\"route\":\"/_image/\"},\"service\":{\"entrypoint\":\"astro/assets/services/sharp\",\"config\":{}},\"domains\":[],\"remotePatterns\":[]},\"devToolbar\":{\"enabled\":true},\"markdown\":{\"syntaxHighlight\":{\"type\":\"shiki\",\"excludeLangs\":[\"math\"]},\"shikiConfig\":{\"langs\":[],\"langAlias\":{},\"theme\":\"github-dark\",\"themes\":{},\"wrap\":false,\"transformers\":[]},\"remarkPlugins\":[null,null,null,null,null,[null,{\"className\":\"image-caption\"}],null,null,null],\"rehypePlugins\":[null,null,[null,{\"components\":{}}],[null,{\"behavior\":\"append\",\"properties\":{\"className\":[\"anchor\"]},\"content\":{\"type\":\"element\",\"tagName\":\"span\",\"properties\":{\"className\":[\"anchor-icon\"],\"data-pagefind-ignore\":true},\"children\":[{\"type\":\"text\",\"value\":\"#\"}]}}]],\"remarkRehype\":{},\"gfm\":true,\"smartypants\":true},\"security\":{\"checkOrigin\":true},\"env\":{\"schema\":{},\"validateSecrets\":false},\"experimental\":{\"clientPrerender\":false,\"contentIntellisense\":false,\"responsiveImages\":false,\"headingIdCompat\":false,\"preserveScriptOrder\":false},\"legacy\":{\"collections\":false}}","spec",["Map",11,12,26,27,56,57],"zsk",{"id":11,"data":13,"filePath":17,"digest":18,"rendered":19,"legacyId":25},{"minutes":14,"words":15,"excerpt":16},1,0,"","src/content/spec/zsk.md","ef46db3751d8e999",{"html":16,"metadata":20},{"headings":21,"localImagePaths":22,"remoteImagePaths":23,"frontmatter":13,"imagePaths":24},[],[],[],[],"zsk.md","about",{"id":26,"data":28,"body":31,"filePath":32,"digest":33,"rendered":34,"legacyId":55},{"minutes":14,"words":29,"excerpt":30},149,"2002年出厂，坐标：上海。白天是🐮🐴，晚上是自己","# Ke.ke，不止码农 🛠️🎥\n2002年出厂，  \n坐标：上海。  \n白天是🐮🐴，晚上是自己\n##\n\u003Ciframe src=\"/html/djs/djs.html\" width=\"100%\" height=\"250px\" style=\"border: none;\">\u003C/iframe>\n\n## 我擅长的：\n。。。一切好玩的点子都想尝试\n\n## 为什么折腾？\n因为——  \n\n> 「写代码能赚钱，折腾能开心，而我想两样都不落下。」\n>\n\n## 最近的目标：\n+ 瘦到75kg\n+ 做出点“不烂大街”的内容\n+ 让生活不止是“工作-睡觉”循环\n\n---\n\n🌿 这个博客，是我留给世界的小声笔记，也是一封封写给未来自己的信。\n\n\n\n本站基于[Astro](https://astro.build)-[Fuwari](https://github.com/saicaca/fuwari)-[Hexo](https://github.com/hexojs/hexo)二次开发，感谢开源社区","src/content/spec/about.md","32a7942034b2760d",{"html":35,"metadata":36},"\u003Csection>\u003Ch1 id=\"keke不止码农-️\">Ke.ke，不止码农 🛠️🎥\u003Ca class=\"anchor\" href=\"#keke不止码农-️\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h1>\u003Cp>2002年出厂，\u003Cbr>\n坐标：上海。\u003Cbr>\n白天是🐮🐴，晚上是自己\u003C/p>\u003Csection>\u003Ch2 id=\"\">\u003C/h2>\u003Ciframe src=\"/html/djs/djs.html\" width=\"100%\" height=\"250px\" style=\"border: none;\">\u003C/iframe>\u003C/section>\u003Csection>\u003Ch2 id=\"我擅长的\">我擅长的：\u003Ca class=\"anchor\" href=\"#我擅长的\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h2>\u003Cp>。。。一切好玩的点子都想尝试\u003C/p>\u003C/section>\u003Csection>\u003Ch2 id=\"为什么折腾\">为什么折腾？\u003Ca class=\"anchor\" href=\"#为什么折腾\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h2>\u003Cp>因为——\u003C/p>\u003Cblockquote>\n\u003Cp>「写代码能赚钱，折腾能开心，而我想两样都不落下。」\u003C/p>\n\u003C/blockquote>\u003C/section>\u003Csection>\u003Ch2 id=\"最近的目标\">最近的目标：\u003Ca class=\"anchor\" href=\"#最近的目标\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h2>\u003Cul>\n\u003Cli>瘦到75kg\u003C/li>\n\u003Cli>做出点“不烂大街”的内容\u003C/li>\n\u003Cli>让生活不止是“工作-睡觉”循环\u003C/li>\n\u003C/ul>\u003Chr>\u003Cp>🌿 这个博客，是我留给世界的小声笔记，也是一封封写给未来自己的信。\u003C/p>\u003Cp>本站基于\u003Ca href=\"https://astro.build\">Astro\u003C/a>-\u003Ca href=\"https://github.com/saicaca/fuwari\">Fuwari\u003C/a>-\u003Ca href=\"https://github.com/hexojs/hexo\">Hexo\u003C/a>二次开发，感谢开源社区\u003C/p>\u003C/section>\u003C/section>",{"headings":37,"localImagePaths":52,"remoteImagePaths":53,"frontmatter":28,"imagePaths":54},[38,41,43,46,49],{"depth":14,"slug":39,"text":40},"keke不止码农-️","Ke.ke，不止码农 🛠️🎥#",{"depth":42,"slug":16,"text":16},2,{"depth":42,"slug":44,"text":45},"我擅长的","我擅长的：#",{"depth":42,"slug":47,"text":48},"为什么折腾","为什么折腾？#",{"depth":42,"slug":50,"text":51},"最近的目标","最近的目标：#",[],[],[],"about.md","zuji",{"id":56,"data":58,"body":60,"filePath":61,"digest":62,"rendered":63,"legacyId":73},{"minutes":14,"words":59,"excerpt":16},20,"\u003Cdiv align=\"center\">\n\n# 足迹地图👣\n\n\u003C/div>\n\n:::warning{title=\"注意\"}\n还没写完呢🫥😱\n:::\n\u003C!-- more -->\n\u003Ciframe src=\"https://kekesxk.online/html/zuji/index.html\" width=\"100%\" height=\"600px\" style=\"border: none;\">\u003C/iframe>","src/content/spec/zuji.md","2cac9645c9b64944",{"html":64,"metadata":65},"\u003Cdiv align=\"center\">\n\u003Csection>\u003Ch1 id=\"足迹地图\">足迹地图👣\u003Ca class=\"anchor\" href=\"#足迹地图\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h1>\u003C/section>\u003C/div>\u003Cblockquote class=\"admonition bdm-warning\">\u003Cspan class=\"bdm-title\">WARNING\u003C/span>\u003Cp>还没写完呢🫥😱\u003C/p>\u003C/blockquote>\u003C!-- more -->\u003Ciframe src=\"https://kekesxk.online/html/zuji/index.html\" width=\"100%\" height=\"600px\" style=\"border: none;\">\u003C/iframe>",{"headings":66,"localImagePaths":70,"remoteImagePaths":71,"frontmatter":58,"imagePaths":72},[67],{"depth":14,"slug":68,"text":69},"足迹地图","足迹地图👣#",[],[],[],"zuji.md","posts",["Map",76,77,180,181,233,234,301,302,336,337,355,356],"bjk",{"id":76,"data":78,"body":87,"filePath":88,"digest":89,"rendered":90,"legacyId":179},{"title":79,"published":80,"updated":81,"draft":82,"description":83,"image":16,"tags":84,"category":85,"lang":16,"prevTitle":16,"prevSlug":16,"nextTitle":16,"nextSlug":16},"Fuwari 部署指南（教程）",["Date","2024-05-01T00:00:00.000Z"],["Date","2025-05-14T00:00:00.000Z"],false,"Fuwari 部署详细步骤",[85,86],"Fuwari","教程","---\n\n# 一、前言\n\n折腾过不少博客框架，比如 **VanBlog**、**Halo**，它们都提供了简洁易用的后台功能和优雅的文章管理体验。虽然动态博客框架功能强大，但需要定期维护服务器和数据库，长期使用下来成本较高。\n\n随着现代前端技术的飞速发展，我逐渐转向静态站点的方案。最终，我选择了基于 **Astro** 框架和 **fuwari** 主题的静态博客，简单易上手，部署便捷，非常适合专注写作和内容分享。\n\n## 🌟 Astro 是啥？**\n\n简单说，**Astro** 是一个做静态网站的框架，特别适合像博客、个人主页、文档站这种内容为主的网站。它的一个大优点就是：**不用管前端那些花里胡哨的东西也能做出超快的网页**。\n\n我自己选它，主要是因为它：\n\n- 默认几乎不带 JavaScript，打开速度嗖嗖的；\n- 写文章直接用 Markdown，配图、加代码块都很方便；\n- 想加点互动？它也支持 React、Vue、Svelte 这些框架，而且可以混着用；\n- 页面是“静态”的，部署超简单，丢到 GitHub Pages、Vercel、Netlify 都行；\n- 最重要的，对我这种懒人来说：**写完就丢线上，不用操心服务器和数据库**。\n\n## ✨ fuwari功能特性\n\n- [x] 基于 Astro 和 Tailwind CSS 开发\n- [x] 流畅的动画和页面过渡\n- [x] 亮色 / 暗色模式\n- [x] 自定义主题色和横幅图片\n- [x] 响应式设计\n- [ ] 评论\n- [x] 搜索\n- [ ] 文内目录\n\n# 二、搭建需求\n\n## **开始之前，先准备些东西！\n\n1. [**Git**](https://git-scm.com/downloads)：版本控制工具，拿来上传、同步代码用的，基本操作得会一点。\n2. [**Node.js**](https://nodejs.org/en)：因为 Fuwari 主题是跑在 Node.js 上的，所以必须先装它。\n3. [**GitHub**](https://github.com/) 账号：博客文件要有个“家”，就放在 GitHub 的仓库里。\n4. [**Cloudflare**](https://cloudflare.com/) 账号：部署博客用的，可以帮你免费生成一个可以访问的网址。如果你更喜欢用 Vercel、Netlify 或 GitHub Pages 也完全没问题～\n5. 一个顺手的 **Markdown 编辑器**：比如 [Typora](https://typoraio.cn/) 或 [MarkText](https://www.marktext.cc/)，写文章超级方便。如果 Markdown 语法不太熟，戳这学习下 👉 [Markdown 教程](https://markdown.com.cn/basic-syntax/)\n\n#### 开搞吧\n\n# 二、本地部署Fuwari\n\n#### 仓库\n\n::github{repo=\"withastro/astro\"}\n::github{repo=\"saicaca/fuwari\"}\n\n1. 使用此模板[生成新仓库](https://github.com/saicaca/fuwari/generate)或 Fork 此仓库\n2. 进行本地开发，Clone 新的仓库，执行 `pnpm install` 和 `pnpm add sharp` 以安装依赖  \n   - 若未安装 [pnpm](https://pnpm.io)，执行 `npm install -g pnpm`\n3. 至此部署成功执行 `pnpm dev` ,即可本地运行\n\n# 三、博客配置\n\n## 1.基本配置\n\n你可以通过配置文件 `src/config.ts` 自定义博客，这里以我自己的配置文件为例：\n\n### **博客基本内容：**\n\n```js\nexport const siteConfig: SiteConfig = {\n\ttitle: \"Ke.ke\",\n\tsubtitle: \"Demo Site\",\n\tlang: \"zh_CN\", // 'en', 'zh_CN', 'zh_TW', 'ja', 'ko', 'es', 'th' 语言设置\n\tthemeColor: {\n\t\thue: 250, // 主题色的色调范围从0到360。例如：红色：0，青色：200，蓝色：250，粉色：345\n\t\tfixed: false, // 是否隐藏主题颜色选择器，访客可见\n\t},\n\tbanner: {\n\t\tenable: true, // 是否启用横幅\n\t\tsrc: \"\", // 横幅图片的路径，相对于 /src 目录，如果路径以 / 开头则相对于 /public 目录，或者完整路径的网络图片\n\t\tposition: \"center\", // 横幅位置，对应 object-position 属性，只支持 'top', 'center', 'bottom'，默认为 'center'\n\t\tcredit: {\n\t\t\tenable: true, // 是否显示横幅图片的版权信息\n\t\t\ttext: \"在山的那边\", // 显示的版权文字\n\t\t\turl: \"https://pic.netbian.com/tupian/36636.html\", // （可选）指向原始艺术作品或艺术家页面的 URL 链接\n\t\t},\n\t},\n\ttoc: {\n\t\tenable: true, // 是否在文章右侧显示目录\n\t\tdepth: 2, // 显示目录的最大标题深度，从 1 到 3\n\t},\n\tfavicon: [\n\t\t// 留空数组以使用默认的 favicon\n\t\t// {\n\t\t//   src: '/favicon/icon.png',    // favicon 的路径，相对于 /public 目录\n\t\t//   theme: 'light',              // （可选）设置为 'light' 或 'dark'，仅当有不同的 favicon 时才设置\n\t\t//   sizes: '32x32',              // （可选）favicon 的尺寸，仅当有不同尺寸的 favicon 时设置\n\t\t// }\n\t],\n};\n\n\n```\n\n### **个人信息与联系方式：**\n\n```js\n\nexport const profileConfig: ProfileConfig = {\n\tavatar: \"assets/images/demo-avatar.png\", // 头像路径，相对于 /src 目录，如果路径以 / 开头则相对于 /public 目录\n\tname: \"Ke.ke\",\n\tbio: \"凡是过往，皆为序章.\", // 个人简介\n\tlinks: [\n\t\t// QQ\n\t\t{\n\t\t\tname: \"QQ\",\n\t\t\ticon: \"fa6-brands:qq\",\n\t\t\turl: \"https://qm.qq.com/q/smIYQggkWA\",//替换成你自己的\n\t\t},\n\t\t{\n\t\t\tname: \"GitHub\",\n\t\t\ticon: \"fa6-brands:github\",\n\t\t\turl: \"https://github.com/Keke0522\",//替换成你自己的\n\t\t},\n\t],\n};\n\n```\n## 2. 创建文章\n在`src/content/posts/`目录中创建.md或终端中执行 `pnpm new-post \u003Cfilename>` 创建新文章并编辑。\n\n### **文章格式：**\n\n```js\n---\ntitle: 南昌旅游计划  # 文章标题\npublished: 2025-05-04        # 发布时间\nupdated: 2025-05-04          # 最后更新时间\ndescription: '南昌旅游计划'      # 简短描述，用于概述文章内容\nimage: ./nh.jpg  //文章封面，可留空\ntags: [ 旅游, 攻略]  # 标签列表，方便分类和搜索\ncategory: '日常'              # 所属分类\ndraft: false                  # 是否为草稿（true 表示尚未发布）\nlang: jp      //仅当文章语言与 `config.ts` 中的网站语言不同时需要设置\n---\n```\n\n# 四. 部署上线\n\n## 1.准备工作\n\n部署前需编辑 `astro.config.mjs` ,改为你的域名\n\n```js\n// https://astro.build/config\nexport default defineConfig({\n    site: \"https://kekesxk.online/\", // 站点地址\n```\n\n## 2.连接至Cloudflare\n\n[官方指南](https://docs.astro.build/zh-cn/guides/deploy/)将博客部署至 Cloudflare,Vercel, Netlify, GitHub Pages 等；\n\n本篇只介绍**Cloudflare**(本人在用)\n\n#### 连接至Cloudflare\n\n### 前往[Cloudflare](https://dash.cloudflare.com/)的 创建一个Pages\n\n![](https://keke0420-1330580499.cos.ap-shanghai.myqcloud.com/img/2025-05-11%2012-51-24-bjk-1.png?imagevanblog)\n\n### 选择导入现有Git存储库,连接你的Github\n\n![](https://keke0420-1330580499.cos.ap-shanghai.myqcloud.com/img/2025-05-11%2012-51-24-bjk-2.png?imagevanblog)\n\n### 设置构建命令：`pnpm build` ，然后设置构建输出目录：`dist`\n\n![](https://keke0420-1330580499.cos.ap-shanghai.myqcloud.com/img/2025-05-11%2012-51-24-bjk-3.png?imagevanblog)\n\n到这里就结束了，你只需要在本地编写文章，然后用Git将更改推送到远程仓库，Cloudflare就会自动部署，用Cloudflare分配给你的链接即可访问博客\n\n### 有域名的话绑定自定域名\n\n![image-20250511211514255](https://keke0420-1330580499.cos.ap-shanghai.myqcloud.com/img/2025-05-11%2012-51-24-bjk-4.png?imagevanblog)\n\n# 四、个性化\n\n## 1.添加ICP备案和运行时间\n在 `src/components/Footer.astro` 文件中 例:\n\n```diff\n---\n\nimport { profileConfig } from \"../config\";\nimport { url } from \"../utils/url-utils\";\nconst currentYear = new Date().getFullYear();\n---\n\n\u003C!--\u003Cdiv class=\"border-t border-[var(&#45;&#45;primary)] mx-16 border-dashed py-8 max-w-[var(&#45;&#45;page-width)] flex flex-col items-center justify-center px-6\">-->\n\u003Cdiv class=\"transition border-t border-black/10 dark:border-white/15 my-10 border-dashed mx-32\">\u003C/div>\n\u003C!--\u003Cdiv class=\"transition bg-[oklch(92%_0.01_var(&#45;&#45;hue))] dark:bg-black rounded-2xl py-8 mt-4 mb-8 flex flex-col items-center justify-center px-6\">-->\n\u003Cdiv class=\"transition border-dashed border-[oklch(85%_0.01_var(--hue))] dark:border-white/15 rounded-2xl mb-12 flex flex-col items-center justify-center px-6\">\n    \u003Cdiv class=\"transition text-50 text-sm text-center\">\n        &copy; \u003Cspan id=\"copyright-year\">{currentYear}\u003C/span> {profileConfig.name}. All Rights Reserved. /\n        Powered by\n        \u003Ca class=\"transition link text-[var(--primary)] font-medium\" target=\"_blank\" href=\"https://astro.build\">Astro\u003C/a> &\n        \u003Ca class=\"transition link text-[var(--primary)] font-medium\" target=\"_blank\" href=\"https://github.com/saicaca/fuwari\">Fuwari\u003C/a>\n        \u003Cbr>\n        \u003Ca class=\"transition link text-[var(--primary)] font-medium\" + target=\"_blank\" href=\"https://beian.miit.gov.cn/\">\n            豫ICP备2025108808号-1\u003C/a>\n    \u003C/div>\n    \u003Cscript type=\"text/javascript\">function runtime(){const t=new Date(\"07/01/2023 08:00:00\"),n=new Date,s=n-t,e=Math.floor(s/1e3),o=Math.floor(e/86400),i=Math.floor(e%86400/3600),a=Math.floor(e%3600/60),r=e%60;document.getElementById(\"runningtime\").innerHTML=`✨本站竟然运行了: ${o}天${i}小时${a}分${r}秒 ☁🤩`}setInterval(runtime,1e3)\u003C/script>\n    \u003Cdiv class=\"transition text-50 text-sm text-center hidden md:block\">\u003Cp id=\"runningtime\"> \u003C/p>\u003C/div>\n\u003C/div>\n\n```\n\n## \n\n- [Astro官方文档](https://docs.astro.build/zh-cn/guides/deploy/)\n- [Fuwari添加评论系统](https://kekesxk.online/posts/bjk/添加评论功能/)\n- [Fuwari修改创建文章命令](https://kekesxk.online/posts/bjk/修改创建文章命令/)\n- [Fuwari添加自定义界面](https://kekesxk.online/posts/bjk/添加自定义界面/)","src/content/posts/BJK/index.md","c1c3cbe0cb827f7c",{"html":91,"metadata":92},"\u003Chr>\n\u003Csection>\u003Ch1 id=\"一前言\">一、前言\u003Ca class=\"anchor\" href=\"#一前言\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h1>\u003Cp>折腾过不少博客框架，比如 \u003Cstrong>VanBlog\u003C/strong>、\u003Cstrong>Halo\u003C/strong>，它们都提供了简洁易用的后台功能和优雅的文章管理体验。虽然动态博客框架功能强大，但需要定期维护服务器和数据库，长期使用下来成本较高。\u003C/p>\u003Cp>随着现代前端技术的飞速发展，我逐渐转向静态站点的方案。最终，我选择了基于 \u003Cstrong>Astro\u003C/strong> 框架和 \u003Cstrong>fuwari\u003C/strong> 主题的静态博客，简单易上手，部署便捷，非常适合专注写作和内容分享。\u003C/p>\u003Csection>\u003Ch2 id=\"-astro-是啥\">🌟 Astro 是啥？**\u003Ca class=\"anchor\" href=\"#-astro-是啥\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h2>\u003Cp>简单说，\u003Cstrong>Astro\u003C/strong> 是一个做静态网站的框架，特别适合像博客、个人主页、文档站这种内容为主的网站。它的一个大优点就是：\u003Cstrong>不用管前端那些花里胡哨的东西也能做出超快的网页\u003C/strong>。\u003C/p>\u003Cp>我自己选它，主要是因为它：\u003C/p>\u003Cul>\n\u003Cli>默认几乎不带 JavaScript，打开速度嗖嗖的；\u003C/li>\n\u003Cli>写文章直接用 Markdown，配图、加代码块都很方便；\u003C/li>\n\u003Cli>想加点互动？它也支持 React、Vue、Svelte 这些框架，而且可以混着用；\u003C/li>\n\u003Cli>页面是“静态”的，部署超简单，丢到 GitHub Pages、Vercel、Netlify 都行；\u003C/li>\n\u003Cli>最重要的，对我这种懒人来说：\u003Cstrong>写完就丢线上，不用操心服务器和数据库\u003C/strong>。\u003C/li>\n\u003C/ul>\u003C/section>\u003Csection>\u003Ch2 id=\"-fuwari功能特性\">✨ fuwari功能特性\u003Ca class=\"anchor\" href=\"#-fuwari功能特性\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h2>\u003Cul class=\"contains-task-list\">\n\u003Cli class=\"task-list-item\">\u003Cinput type=\"checkbox\" checked disabled> 基于 Astro 和 Tailwind CSS 开发\u003C/li>\n\u003Cli class=\"task-list-item\">\u003Cinput type=\"checkbox\" checked disabled> 流畅的动画和页面过渡\u003C/li>\n\u003Cli class=\"task-list-item\">\u003Cinput type=\"checkbox\" checked disabled> 亮色 / 暗色模式\u003C/li>\n\u003Cli class=\"task-list-item\">\u003Cinput type=\"checkbox\" checked disabled> 自定义主题色和横幅图片\u003C/li>\n\u003Cli class=\"task-list-item\">\u003Cinput type=\"checkbox\" checked disabled> 响应式设计\u003C/li>\n\u003Cli class=\"task-list-item\">\u003Cinput type=\"checkbox\" disabled> 评论\u003C/li>\n\u003Cli class=\"task-list-item\">\u003Cinput type=\"checkbox\" checked disabled> 搜索\u003C/li>\n\u003Cli class=\"task-list-item\">\u003Cinput type=\"checkbox\" disabled> 文内目录\u003C/li>\n\u003C/ul>\u003C/section>\u003C/section>\n\u003Csection>\u003Ch1 id=\"二搭建需求\">二、搭建需求\u003Ca class=\"anchor\" href=\"#二搭建需求\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h1>\u003Csection>\u003Ch2 id=\"开始之前先准备些东西\">**开始之前，先准备些东西！\u003Ca class=\"anchor\" href=\"#开始之前先准备些东西\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h2>\u003Col>\n\u003Cli>\u003Ca href=\"https://git-scm.com/downloads\">\u003Cstrong>Git\u003C/strong>\u003C/a>：版本控制工具，拿来上传、同步代码用的，基本操作得会一点。\u003C/li>\n\u003Cli>\u003Ca href=\"https://nodejs.org/en\">\u003Cstrong>Node.js\u003C/strong>\u003C/a>：因为 Fuwari 主题是跑在 Node.js 上的，所以必须先装它。\u003C/li>\n\u003Cli>\u003Ca href=\"https://github.com/\">\u003Cstrong>GitHub\u003C/strong>\u003C/a> 账号：博客文件要有个“家”，就放在 GitHub 的仓库里。\u003C/li>\n\u003Cli>\u003Ca href=\"https://cloudflare.com/\">\u003Cstrong>Cloudflare\u003C/strong>\u003C/a> 账号：部署博客用的，可以帮你免费生成一个可以访问的网址。如果你更喜欢用 Vercel、Netlify 或 GitHub Pages 也完全没问题～\u003C/li>\n\u003Cli>一个顺手的 \u003Cstrong>Markdown 编辑器\u003C/strong>：比如 \u003Ca href=\"https://typoraio.cn/\">Typora\u003C/a> 或 \u003Ca href=\"https://www.marktext.cc/\">MarkText\u003C/a>，写文章超级方便。如果 Markdown 语法不太熟，戳这学习下 👉 \u003Ca href=\"https://markdown.com.cn/basic-syntax/\">Markdown 教程\u003C/a>\u003C/li>\n\u003C/ol>\u003Csection>\u003Ch4 id=\"开搞吧\">开搞吧\u003Ca class=\"anchor\" href=\"#开搞吧\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h4>\u003C/section>\u003C/section>\u003C/section>\n\u003Csection>\u003Ch1 id=\"二本地部署fuwari\">二、本地部署Fuwari\u003Ca class=\"anchor\" href=\"#二本地部署fuwari\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h1>\u003Csection>\u003Ch4 id=\"仓库\">仓库\u003Ca class=\"anchor\" href=\"#仓库\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h4>\u003Ca id=\"GCts7afs-card\" class=\"card-github fetch-waiting no-styling\" href=\"https://github.com/withastro/astro\" target=\"_blank\" repo=\"withastro/astro\">\u003Cdiv class=\"gc-titlebar\">\u003Cdiv class=\"gc-titlebar-left\">\u003Cdiv class=\"gc-owner\">\u003Cdiv id=\"GCts7afs-avatar\" class=\"gc-avatar\">\u003C/div>\u003Cdiv class=\"gc-user\">withastro\u003C/div>\u003C/div>\u003Cdiv class=\"gc-divider\">/\u003C/div>\u003Cdiv class=\"gc-repo\">astro\u003C/div>\u003C/div>\u003Cdiv class=\"github-logo\">\u003C/div>\u003C/div>\u003Cdiv id=\"GCts7afs-description\" class=\"gc-description\">Waiting for api.github.com...\u003C/div>\u003Cdiv class=\"gc-infobar\">\u003Cdiv id=\"GCts7afs-stars\" class=\"gc-stars\">00K\u003C/div>\u003Cdiv id=\"GCts7afs-forks\" class=\"gc-forks\">0K\u003C/div>\u003Cdiv id=\"GCts7afs-license\" class=\"gc-license\">0K\u003C/div>\u003Cspan id=\"GCts7afs-language\" class=\"gc-language\">Waiting...\u003C/span>\u003C/div>\u003Cscript id=\"GCts7afs-script\" type=\"text/javascript\" defer>\n      fetch('https://api.github.com/repos/withastro/astro', { referrerPolicy: \"no-referrer\" }).then(response => response.json()).then(data => {\n        document.getElementById('GCts7afs-description').innerText = data.description?.replace(/:[a-zA-Z0-9_]+:/g, '') || \"Description not set\";\n        document.getElementById('GCts7afs-language').innerText = data.language;\n        document.getElementById('GCts7afs-forks').innerText = Intl.NumberFormat('en-us', { notation: \"compact\", maximumFractionDigits: 1 }).format(data.forks).replaceAll(\" \", '');\n        document.getElementById('GCts7afs-stars').innerText = Intl.NumberFormat('en-us', { notation: \"compact\", maximumFractionDigits: 1 }).format(data.stargazers_count).replaceAll(\" \", '');\n        const avatarEl = document.getElementById('GCts7afs-avatar');\n        avatarEl.style.backgroundImage = 'url(' + data.owner.avatar_url + ')';\n        avatarEl.style.backgroundColor = 'transparent';\n        document.getElementById('GCts7afs-license').innerText = data.license?.spdx_id || \"no-license\";\n        document.getElementById('GCts7afs-card').classList.remove(\"fetch-waiting\");\n        console.log(\"[GITHUB-CARD] Loaded card for withastro/astro | GCts7afs.\")\n      }).catch(err => {\n        const c = document.getElementById('GCts7afs-card');\n        c?.classList.add(\"fetch-error\");\n        console.warn(\"[GITHUB-CARD] (Error) Loading card for withastro/astro | GCts7afs.\")\n      })\n    \u003C/script>\u003C/a>\u003Ca id=\"GC02ljti-card\" class=\"card-github fetch-waiting no-styling\" href=\"https://github.com/saicaca/fuwari\" target=\"_blank\" repo=\"saicaca/fuwari\">\u003Cdiv class=\"gc-titlebar\">\u003Cdiv class=\"gc-titlebar-left\">\u003Cdiv class=\"gc-owner\">\u003Cdiv id=\"GC02ljti-avatar\" class=\"gc-avatar\">\u003C/div>\u003Cdiv class=\"gc-user\">saicaca\u003C/div>\u003C/div>\u003Cdiv class=\"gc-divider\">/\u003C/div>\u003Cdiv class=\"gc-repo\">fuwari\u003C/div>\u003C/div>\u003Cdiv class=\"github-logo\">\u003C/div>\u003C/div>\u003Cdiv id=\"GC02ljti-description\" class=\"gc-description\">Waiting for api.github.com...\u003C/div>\u003Cdiv class=\"gc-infobar\">\u003Cdiv id=\"GC02ljti-stars\" class=\"gc-stars\">00K\u003C/div>\u003Cdiv id=\"GC02ljti-forks\" class=\"gc-forks\">0K\u003C/div>\u003Cdiv id=\"GC02ljti-license\" class=\"gc-license\">0K\u003C/div>\u003Cspan id=\"GC02ljti-language\" class=\"gc-language\">Waiting...\u003C/span>\u003C/div>\u003Cscript id=\"GC02ljti-script\" type=\"text/javascript\" defer>\n      fetch('https://api.github.com/repos/saicaca/fuwari', { referrerPolicy: \"no-referrer\" }).then(response => response.json()).then(data => {\n        document.getElementById('GC02ljti-description').innerText = data.description?.replace(/:[a-zA-Z0-9_]+:/g, '') || \"Description not set\";\n        document.getElementById('GC02ljti-language').innerText = data.language;\n        document.getElementById('GC02ljti-forks').innerText = Intl.NumberFormat('en-us', { notation: \"compact\", maximumFractionDigits: 1 }).format(data.forks).replaceAll(\" \", '');\n        document.getElementById('GC02ljti-stars').innerText = Intl.NumberFormat('en-us', { notation: \"compact\", maximumFractionDigits: 1 }).format(data.stargazers_count).replaceAll(\" \", '');\n        const avatarEl = document.getElementById('GC02ljti-avatar');\n        avatarEl.style.backgroundImage = 'url(' + data.owner.avatar_url + ')';\n        avatarEl.style.backgroundColor = 'transparent';\n        document.getElementById('GC02ljti-license').innerText = data.license?.spdx_id || \"no-license\";\n        document.getElementById('GC02ljti-card').classList.remove(\"fetch-waiting\");\n        console.log(\"[GITHUB-CARD] Loaded card for saicaca/fuwari | GC02ljti.\")\n      }).catch(err => {\n        const c = document.getElementById('GC02ljti-card');\n        c?.classList.add(\"fetch-error\");\n        console.warn(\"[GITHUB-CARD] (Error) Loading card for saicaca/fuwari | GC02ljti.\")\n      })\n    \u003C/script>\u003C/a>\u003Col>\n\u003Cli>使用此模板\u003Ca href=\"https://github.com/saicaca/fuwari/generate\">生成新仓库\u003C/a>或 Fork 此仓库\u003C/li>\n\u003Cli>进行本地开发，Clone 新的仓库，执行 \u003Ccode>pnpm install\u003C/code> 和 \u003Ccode>pnpm add sharp\u003C/code> 以安装依赖\n\u003Cul>\n\u003Cli>若未安装 \u003Ca href=\"https://pnpm.io\">pnpm\u003C/a>，执行 \u003Ccode>npm install -g pnpm\u003C/code>\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>至此部署成功执行 \u003Ccode>pnpm dev\u003C/code> ,即可本地运行\u003C/li>\n\u003C/ol>\u003C/section>\u003C/section>\n\u003Csection>\u003Ch1 id=\"三博客配置\">三、博客配置\u003Ca class=\"anchor\" href=\"#三博客配置\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h1>\u003Csection>\u003Ch2 id=\"1基本配置\">1.基本配置\u003Ca class=\"anchor\" href=\"#1基本配置\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h2>\u003Cp>你可以通过配置文件 \u003Ccode>src/config.ts\u003C/code> 自定义博客，这里以我自己的配置文件为例：\u003C/p>\u003Csection>\u003Ch3 id=\"博客基本内容\">\u003Cstrong>博客基本内容：\u003C/strong>\u003Ca class=\"anchor\" href=\"#博客基本内容\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h3>\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"js\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">export\u003C/span>\u003Cspan style=\"color:#F97583\"> const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> siteConfig\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> SiteConfig\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\ttitle: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Ke.ke\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\tsubtitle: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Demo Site\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\tlang: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"zh_CN\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#6A737D\">// 'en', 'zh_CN', 'zh_TW', 'ja', 'ko', 'es', 'th' 语言设置\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\tthemeColor: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\t\thue: \u003C/span>\u003Cspan style=\"color:#79B8FF\">250\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#6A737D\">// 主题色的色调范围从0到360。例如：红色：0，青色：200，蓝色：250，粉色：345\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\t\tfixed: \u003C/span>\u003Cspan style=\"color:#79B8FF\">false\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#6A737D\">// 是否隐藏主题颜色选择器，访客可见\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\t},\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\tbanner: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\t\tenable: \u003C/span>\u003Cspan style=\"color:#79B8FF\">true\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#6A737D\">// 是否启用横幅\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\t\tsrc: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#6A737D\">// 横幅图片的路径，相对于 /src 目录，如果路径以 / 开头则相对于 /public 目录，或者完整路径的网络图片\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\t\tposition: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"center\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#6A737D\">// 横幅位置，对应 object-position 属性，只支持 'top', 'center', 'bottom'，默认为 'center'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\t\tcredit: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\t\t\tenable: \u003C/span>\u003Cspan style=\"color:#79B8FF\">true\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#6A737D\">// 是否显示横幅图片的版权信息\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\t\t\ttext: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"在山的那边\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#6A737D\">// 显示的版权文字\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\t\t\turl: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"https://pic.netbian.com/tupian/36636.html\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#6A737D\">// （可选）指向原始艺术作品或艺术家页面的 URL 链接\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\t\t},\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\t},\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\ttoc: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\t\tenable: \u003C/span>\u003Cspan style=\"color:#79B8FF\">true\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#6A737D\">// 是否在文章右侧显示目录\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\t\tdepth: \u003C/span>\u003Cspan style=\"color:#79B8FF\">2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#6A737D\">// 显示目录的最大标题深度，从 1 到 3\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\t},\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\tfavicon: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">\t\t// 留空数组以使用默认的 favicon\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">\t\t// {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">\t\t//   src: '/favicon/icon.png',    // favicon 的路径，相对于 /public 目录\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">\t\t//   theme: 'light',              // （可选）设置为 'light' 或 'dark'，仅当有不同的 favicon 时才设置\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">\t\t//   sizes: '32x32',              // （可选）favicon 的尺寸，仅当有不同尺寸的 favicon 时设置\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">\t\t// }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\t],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">};\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\u003C/code>\u003C/pre>\u003C/section>\u003Csection>\u003Ch3 id=\"个人信息与联系方式\">\u003Cstrong>个人信息与联系方式：\u003C/strong>\u003Ca class=\"anchor\" href=\"#个人信息与联系方式\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h3>\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"js\">\u003Ccode>\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">export\u003C/span>\u003Cspan style=\"color:#F97583\"> const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> profileConfig\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> ProfileConfig\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\tavatar: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"assets/images/demo-avatar.png\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#6A737D\">// 头像路径，相对于 /src 目录，如果路径以 / 开头则相对于 /public 目录\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\tname: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"Ke.ke\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\tbio: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"凡是过往，皆为序章.\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#6A737D\">// 个人简介\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\tlinks: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">\t\t// QQ\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\t\t{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\t\t\tname: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"QQ\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\t\t\ticon: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"fa6-brands:qq\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\t\t\turl: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"https://qm.qq.com/q/smIYQggkWA\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#6A737D\">//替换成你自己的\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\t\t},\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\t\t{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\t\t\tname: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"GitHub\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\t\t\ticon: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"fa6-brands:github\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\t\t\turl: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"https://github.com/Keke0522\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003Cspan style=\"color:#6A737D\">//替换成你自己的\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\t\t},\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">\t],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">};\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\u003C/code>\u003C/pre>\u003C/section>\u003C/section>\u003Csection>\u003Ch2 id=\"2-创建文章\">2. 创建文章\u003Ca class=\"anchor\" href=\"#2-创建文章\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h2>\u003Cp>在\u003Ccode>src/content/posts/\u003C/code>目录中创建.md或终端中执行 \u003Ccode>pnpm new-post &#x3C;filename>\u003C/code> 创建新文章并编辑。\u003C/p>\u003Csection>\u003Ch3 id=\"文章格式\">\u003Cstrong>文章格式：\u003C/strong>\u003Ca class=\"anchor\" href=\"#文章格式\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h3>\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"js\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">---\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">title\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: 南昌旅游计划  # 文章标题\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">published\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">2025\u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\">05\u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\">04\u003C/span>\u003Cspan style=\"color:#E1E4E8\">        # 发布时间\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">updated\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">2025\u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\">05\u003C/span>\u003Cspan style=\"color:#F97583\">-\u003C/span>\u003Cspan style=\"color:#79B8FF\">04\u003C/span>\u003Cspan style=\"color:#E1E4E8\">          # 最后更新时间\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">description\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'南昌旅游计划'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">      # 简短描述，用于概述文章内容\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">image\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: .\u003C/span>\u003Cspan style=\"color:#F97583\">/\u003C/span>\u003Cspan style=\"color:#E1E4E8\">nh.jpg  \u003C/span>\u003Cspan style=\"color:#6A737D\">//文章封面，可留空\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">tags\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: [ 旅游, 攻略]  # 标签列表，方便分类和搜索\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">category\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">'日常'\u003C/span>\u003Cspan style=\"color:#E1E4E8\">              # 所属分类\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">draft\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: \u003C/span>\u003Cspan style=\"color:#79B8FF\">false\u003C/span>\u003Cspan style=\"color:#E1E4E8\">                  # 是否为草稿（\u003C/span>\u003Cspan style=\"color:#79B8FF\">true\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> 表示尚未发布）\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">lang\u003C/span>\u003Cspan style=\"color:#E1E4E8\">: jp      \u003C/span>\u003Cspan style=\"color:#6A737D\">//仅当文章语言与 `config.ts` 中的网站语言不同时需要设置\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">---\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\u003C/section>\u003C/section>\u003C/section>\n\u003Csection>\u003Ch1 id=\"四-部署上线\">四. 部署上线\u003Ca class=\"anchor\" href=\"#四-部署上线\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h1>\u003Csection>\u003Ch2 id=\"1准备工作\">1.准备工作\u003Ca class=\"anchor\" href=\"#1准备工作\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h2>\u003Cp>部署前需编辑 \u003Ccode>astro.config.mjs\u003C/code> ,改为你的域名\u003C/p>\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"js\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6A737D\">// https://astro.build/config\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">export\u003C/span>\u003Cspan style=\"color:#F97583\"> default\u003C/span>\u003Cspan style=\"color:#B392F0\"> defineConfig\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    site: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"https://kekesxk.online/\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#6A737D\">// 站点地址\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\u003C/section>\u003Csection>\u003Ch2 id=\"2连接至cloudflare\">2.连接至Cloudflare\u003Ca class=\"anchor\" href=\"#2连接至cloudflare\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h2>\u003Cp>\u003Ca href=\"https://docs.astro.build/zh-cn/guides/deploy/\">官方指南\u003C/a>将博客部署至 Cloudflare,Vercel, Netlify, GitHub Pages 等；\u003C/p>\u003Cp>本篇只介绍\u003Cstrong>Cloudflare\u003C/strong>(本人在用)\u003C/p>\u003Csection>\u003Ch4 id=\"连接至cloudflare\">连接至Cloudflare\u003Ca class=\"anchor\" href=\"#连接至cloudflare\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h4>\u003C/section>\u003Csection>\u003Ch3 id=\"前往cloudflare的-创建一个pages\">前往\u003Ca href=\"https://dash.cloudflare.com/\">Cloudflare\u003C/a>的 创建一个Pages\u003Ca class=\"anchor\" href=\"#前往cloudflare的-创建一个pages\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h3>\u003Cfigure class=\"image-caption\">\u003Cdiv>\u003Cimg alt=\"\" src=\"https://keke0420-1330580499.cos.ap-shanghai.myqcloud.com/img/2025-05-11%2012-51-24-bjk-1.png?imagevanblog\">\u003C/div>\u003C/figure>\u003C/section>\u003Csection>\u003Ch3 id=\"选择导入现有git存储库连接你的github\">选择导入现有Git存储库,连接你的Github\u003Ca class=\"anchor\" href=\"#选择导入现有git存储库连接你的github\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h3>\u003Cfigure class=\"image-caption\">\u003Cdiv>\u003Cimg alt=\"\" src=\"https://keke0420-1330580499.cos.ap-shanghai.myqcloud.com/img/2025-05-11%2012-51-24-bjk-2.png?imagevanblog\">\u003C/div>\u003C/figure>\u003C/section>\u003Csection>\u003Ch3 id=\"设置构建命令pnpm-build-然后设置构建输出目录dist\">设置构建命令：\u003Ccode>pnpm build\u003C/code> ，然后设置构建输出目录：\u003Ccode>dist\u003C/code>\u003Ca class=\"anchor\" href=\"#设置构建命令pnpm-build-然后设置构建输出目录dist\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h3>\u003Cfigure class=\"image-caption\">\u003Cdiv>\u003Cimg alt=\"\" src=\"https://keke0420-1330580499.cos.ap-shanghai.myqcloud.com/img/2025-05-11%2012-51-24-bjk-3.png?imagevanblog\">\u003C/div>\u003C/figure>\u003Cp>到这里就结束了，你只需要在本地编写文章，然后用Git将更改推送到远程仓库，Cloudflare就会自动部署，用Cloudflare分配给你的链接即可访问博客\u003C/p>\u003C/section>\u003Csection>\u003Ch3 id=\"有域名的话绑定自定域名\">有域名的话绑定自定域名\u003Ca class=\"anchor\" href=\"#有域名的话绑定自定域名\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h3>\u003Cfigure class=\"image-caption\">\u003Cdiv>\u003Cimg alt=\"image-20250511211514255\" src=\"https://keke0420-1330580499.cos.ap-shanghai.myqcloud.com/img/2025-05-11%2012-51-24-bjk-4.png?imagevanblog\">\u003C/div>\u003C/figure>\u003C/section>\u003C/section>\u003C/section>\n\u003Csection>\u003Ch1 id=\"四个性化\">四、个性化\u003Ca class=\"anchor\" href=\"#四个性化\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h1>\u003Csection>\u003Ch2 id=\"1添加icp备案和运行时间\">1.添加ICP备案和运行时间\u003Ca class=\"anchor\" href=\"#1添加icp备案和运行时间\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h2>\u003Cp>在 \u003Ccode>src/components/Footer.astro\u003C/code> 文件中 例:\u003C/p>\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"diff\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF;font-weight:bold\">\u003Cspan style=\"user-select: none;\">-\u003C/span>--\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">import { profileConfig } from \"../config\";\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">import { url } from \"../utils/url-utils\";\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">const currentYear = new Date().getFullYear();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF;font-weight:bold\">\u003Cspan style=\"user-select: none;\">-\u003C/span>--\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;!--&#x3C;div class=\"border-t border-[var(&#x26;#45;&#x26;#45;primary)] mx-16 border-dashed py-8 max-w-[var(&#x26;#45;&#x26;#45;page-width)] flex flex-col items-center justify-center px-6\">-->\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;div class=\"transition border-t border-black/10 dark:border-white/15 my-10 border-dashed mx-32\">&#x3C;/div>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;!--&#x3C;div class=\"transition bg-[oklch(92%_0.01_var(&#x26;#45;&#x26;#45;hue))] dark:bg-black rounded-2xl py-8 mt-4 mb-8 flex flex-col items-center justify-center px-6\">-->\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;div class=\"transition border-dashed border-[oklch(85%_0.01_var(--hue))] dark:border-white/15 rounded-2xl mb-12 flex flex-col items-center justify-center px-6\">\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;div class=\"transition text-50 text-sm text-center\">\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        &#x26;copy; &#x3C;span id=\"copyright-year\">{currentYear}&#x3C;/span> {profileConfig.name}. All Rights Reserved. /\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        Powered by\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        &#x3C;a class=\"transition link text-[var(--primary)] font-medium\" target=\"_blank\" href=\"https://astro.build\">Astro&#x3C;/a> &#x26;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        &#x3C;a class=\"transition link text-[var(--primary)] font-medium\" target=\"_blank\" href=\"https://github.com/saicaca/fuwari\">Fuwari&#x3C;/a>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        &#x3C;br>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">        &#x3C;a class=\"transition link text-[var(--primary)] font-medium\" + target=\"_blank\" href=\"https://beian.miit.gov.cn/\">\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">            豫ICP备2025108808号-1&#x3C;/a>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;/div>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;script type=\"text/javascript\">function runtime(){const t=new Date(\"07/01/2023 08:00:00\"),n=new Date,s=n-t,e=Math.floor(s/1e3),o=Math.floor(e/86400),i=Math.floor(e%86400/3600),a=Math.floor(e%3600/60),r=e%60;document.getElementById(\"runningtime\").innerHTML=`✨本站竟然运行了: ${o}天${i}小时${a}分${r}秒 ☁🤩`}setInterval(runtime,1e3)&#x3C;/script>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;div class=\"transition text-50 text-sm text-center hidden md:block\">&#x3C;p id=\"runningtime\"> &#x3C;/p>&#x3C;/div>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;/div>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\u003C/code>\u003C/pre>\u003C/section>\u003Csection>\u003Ch2 id=\"\">\u003C/h2>\u003Cul>\n\u003Cli>\u003Ca href=\"https://docs.astro.build/zh-cn/guides/deploy/\">Astro官方文档\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://kekesxk.online/posts/bjk/%E6%B7%BB%E5%8A%A0%E8%AF%84%E8%AE%BA%E5%8A%9F%E8%83%BD/\">Fuwari添加评论系统\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://kekesxk.online/posts/bjk/%E4%BF%AE%E6%94%B9%E5%88%9B%E5%BB%BA%E6%96%87%E7%AB%A0%E5%91%BD%E4%BB%A4/\">Fuwari修改创建文章命令\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://kekesxk.online/posts/bjk/%E6%B7%BB%E5%8A%A0%E8%87%AA%E5%AE%9A%E4%B9%89%E7%95%8C%E9%9D%A2/\">Fuwari添加自定义界面\u003C/a>\u003C/li>\n\u003C/ul>\u003C/section>\u003C/section>",{"headings":93,"localImagePaths":169,"remoteImagePaths":170,"frontmatter":171,"imagePaths":178},[94,97,100,103,106,109,113,116,119,122,125,129,132,135,138,141,144,147,150,153,156,159,162,165,168],{"depth":14,"slug":95,"text":96},"一前言","一、前言#",{"depth":42,"slug":98,"text":99},"-astro-是啥","🌟 Astro 是啥？**#",{"depth":42,"slug":101,"text":102},"-fuwari功能特性","✨ fuwari功能特性#",{"depth":14,"slug":104,"text":105},"二搭建需求","二、搭建需求#",{"depth":42,"slug":107,"text":108},"开始之前先准备些东西","**开始之前，先准备些东西！#",{"depth":110,"slug":111,"text":112},4,"开搞吧","开搞吧#",{"depth":14,"slug":114,"text":115},"二本地部署fuwari","二、本地部署Fuwari#",{"depth":110,"slug":117,"text":118},"仓库","仓库#",{"depth":14,"slug":120,"text":121},"三博客配置","三、博客配置#",{"depth":42,"slug":123,"text":124},"1基本配置","1.基本配置#",{"depth":126,"slug":127,"text":128},3,"博客基本内容","博客基本内容：#",{"depth":126,"slug":130,"text":131},"个人信息与联系方式","个人信息与联系方式：#",{"depth":42,"slug":133,"text":134},"2-创建文章","2. 创建文章#",{"depth":126,"slug":136,"text":137},"文章格式","文章格式：#",{"depth":14,"slug":139,"text":140},"四-部署上线","四. 部署上线#",{"depth":42,"slug":142,"text":143},"1准备工作","1.准备工作#",{"depth":42,"slug":145,"text":146},"2连接至cloudflare","2.连接至Cloudflare#",{"depth":110,"slug":148,"text":149},"连接至cloudflare","连接至Cloudflare#",{"depth":126,"slug":151,"text":152},"前往cloudflare的-创建一个pages","前往Cloudflare的 创建一个Pages#",{"depth":126,"slug":154,"text":155},"选择导入现有git存储库连接你的github","选择导入现有Git存储库,连接你的Github#",{"depth":126,"slug":157,"text":158},"设置构建命令pnpm-build-然后设置构建输出目录dist","设置构建命令：pnpm build ，然后设置构建输出目录：dist#",{"depth":126,"slug":160,"text":161},"有域名的话绑定自定域名","有域名的话绑定自定域名#",{"depth":14,"slug":163,"text":164},"四个性化","四、个性化#",{"depth":42,"slug":166,"text":167},"1添加icp备案和运行时间","1.添加ICP备案和运行时间#",{"depth":42,"slug":16,"text":16},[],[],{"title":79,"published":172,"updated":173,"description":83,"image":16,"tags":174,"category":85,"draft":82,"lang":16,"minutes":175,"words":176,"excerpt":177},["Date","2024-05-01T00:00:00.000Z"],["Date","2025-05-14T00:00:00.000Z"],[85,86],8,1595,"折腾过不少博客框架，比如 VanBlog、Halo，它们都提供了简洁易用的后台功能和优雅的文章管理体验。虽然动态博客框架功能强大，但需要定期维护服务器和数据库，长期使用下来成本较高。",[],"BJK/index.md","sh/南昌旅游计划",{"id":180,"data":182,"body":191,"filePath":192,"digest":193,"rendered":194,"legacyId":232},{"title":183,"published":184,"updated":185,"draft":82,"description":183,"image":186,"tags":187,"category":190,"lang":16,"prevTitle":16,"prevSlug":16,"nextTitle":16,"nextSlug":16},"南昌旅游计划",["Date","2025-05-04T00:00:00.000Z"],["Date","2025-05-04T00:00:00.000Z"],"https://keke0420-1330580499.cos.ap-shanghai.myqcloud.com/img/IMG_E9D9FED408CA-1.jpeg?imagevanblog",[188,189],"旅游","攻略","日常","## ⏰ 行程安排\n\n    两天一晚（周六周日）或 三天两晚（端午周六周日周一）\n- [ ] **身份证！身份证！身份证！**\n- [ ] 衣物（🧦🧦）、洗漱品，防晒用品\n- [ ] 数码：充电器、相机等\n\n\n\u003C!-- more -->\n\n\n:::\n\n:::warning\n车次情况：\n\n\u003Cfont style=\"background:#DBF1B7;color:#2A4200\">提前 40 分钟出发更从容\u003C/font>\n\n ![](https://keke0420-1330580499.cos.ap-shanghai.myqcloud.com/img/20250429171924.png?imagevanblog \"出发\")\n\n ![](https://keke0420-1330580499.cos.ap-shanghai.myqcloud.com/img/20250429171937.png?imagevanblog \"返回\")\n\n:::\n\n\n\n## 🏰 酒店\n+ **滕王阁附近**：出行方便，周边景点众多，滕王阁的夜景和赣江风光\n+ **红谷滩区**：靠近秋水广场、双子塔，商圈繁华，交通便利\n\n## 行程安排\n### 第一天\n+ **上午**\n    - **南昌站去中华米粉美食街**\n    - **中华米粉美食街**：8：00到达西湖区中华米粉美食街，品尝南昌拌粉和瓦罐汤，特色田螺。\n    - **八一广场**：9：30左右抵达八一广场，参观八一起义纪念塔等标志性建筑，了解南昌的革命历史。如果时间充裕，可以去广场附近的南昌美术馆看看，馆内经常举办各种艺术展览，免费开放，需在公众号预约。\n+ **中午**：前往万寿宫历史文化街区用餐。从八一广场步行约25分钟或骑行10分钟到达。正宗赣菜，如鄱阳湖狮子头、粉蒸肉等\n+ **下午**\n    - **万寿宫历史文化街区**：饭后游览万寿宫历史文化街区，游玩2 - 3小时。\n    - **南昌八一起义纪念馆**：14：30左右前往南昌八一起义纪念馆，提前在微信搜索“八一纪念馆”小程序预约门票。预留1.5 - 2小时。\n+ **晚上**\n    - **秋水广场**：18：30左右前往秋水广场，亚洲最大的音乐喷泉表演，每晚有19：50、20：45两场（以当天公告为准）。喷泉表演结束后，欣赏对岸双子塔的夜景。\n    - **吃饭**：\n\n### 第二天\n+ **上午**\n    - **大士院街**：8：00到达大士院街，这里有很多当地特色美食，如老南昌白糖糕、无矾鸡蛋油条、油条包麻糍等。可以边吃边逛\n    - **滕王阁**：9：00左右步行前往滕王阁，提前在滕王阁官方购票平台购票。1 - 3小时。\n+ **中午**：在滕王阁附近用餐，品尝鄱阳湖狮子头、粉蒸肉等赣菜。\n+ **下午**\n    - **江西省博物馆**：前往江西省博物馆，提前在公众号上预约门票。\n    - **绳金塔**：参观完省博物馆后，前往绳金塔，塔下还有绳金塔历史文化街区，可以逛逛古建筑，品尝各种中华老字号美食，如正宗的南昌瓦罐汤和炒粉等。\n+ **晚上**\n    - **返程或者蛤蟆街**：如果三天的话，去蛤蟆街逛逛，南昌最地道的美食街之一\n\n### 第三天（端午假期第三天）\n+ **全天**：海昏侯国遗址公园\n\n\n\n## 交通\n+ **市内交通**\n\n## 美食推荐\n+ **南昌拌粉**：南昌特色美食，米粉爽滑有劲道，搭配各种调料和配菜，口感丰富。\n+ **瓦罐汤**：以瓦罐为器具，用小火慢煨而成，汤鲜味美，有多种口味可供选择，如肉饼汤、排骨汤、鸡汤等。\n+ **赣菜**：代表菜品有鄱阳湖狮子头、粉蒸肉、余干辣椒炒肉、啤酒烧鸭等，鲜、辣、香\n+ **南昌小吃**：白糖糕、臭豆腐、粽子等，还有灯芯糕、石头街麻花、糊羹等\n\n##","src/content/posts/SH/南昌旅游计划.md","1d01e5e131a577b3",{"html":195,"metadata":196},"\u003Csection>\u003Ch2 id=\"-行程安排\">⏰ 行程安排\u003Ca class=\"anchor\" href=\"#-行程安排\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h2>\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>两天一晚（周六周日）或 三天两晚（端午周六周日周一）\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\u003Cul class=\"contains-task-list\">\n\u003Cli class=\"task-list-item\">\u003Cinput type=\"checkbox\" disabled> \u003Cstrong>身份证！身份证！身份证！\u003C/strong>\u003C/li>\n\u003Cli class=\"task-list-item\">\u003Cinput type=\"checkbox\" disabled> 衣物（🧦🧦）、洗漱品，防晒用品\u003C/li>\n\u003Cli class=\"task-list-item\">\u003Cinput type=\"checkbox\" disabled> 数码：充电器、相机等\u003C/li>\n\u003C/ul>\u003C!-- more -->\u003Cp>:::\u003C/p>\u003Cblockquote class=\"admonition bdm-warning\">\u003Cspan class=\"bdm-title\">WARNING\u003C/span>\u003Cp>车次情况：\u003C/p>\u003Cp>\u003Cfont style=\"background:#DBF1B7;color:#2A4200\">提前 40 分钟出发更从容\u003C/font>\u003C/p>\u003Cp>\u003Cimg src=\"https://keke0420-1330580499.cos.ap-shanghai.myqcloud.com/img/20250429171924.png?imagevanblog\" alt=\"\" title=\"出发\">\u003C/p>\u003Cp>\u003Cimg src=\"https://keke0420-1330580499.cos.ap-shanghai.myqcloud.com/img/20250429171937.png?imagevanblog\" alt=\"\" title=\"返回\">\u003C/p>\u003C/blockquote>\u003C/section>\n\u003Csection>\u003Ch2 id=\"-酒店\">🏰 酒店\u003Ca class=\"anchor\" href=\"#-酒店\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h2>\u003Cul>\n\u003Cli>\u003Cstrong>滕王阁附近\u003C/strong>：出行方便，周边景点众多，滕王阁的夜景和赣江风光\u003C/li>\n\u003Cli>\u003Cstrong>红谷滩区\u003C/strong>：靠近秋水广场、双子塔，商圈繁华，交通便利\u003C/li>\n\u003C/ul>\u003C/section>\n\u003Csection>\u003Ch2 id=\"行程安排\">行程安排\u003Ca class=\"anchor\" href=\"#行程安排\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h2>\u003Csection>\u003Ch3 id=\"第一天\">第一天\u003Ca class=\"anchor\" href=\"#第一天\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h3>\u003Cul>\n\u003Cli>\u003Cstrong>上午\u003C/strong>\n\u003Cul>\n\u003Cli>\u003Cstrong>南昌站去中华米粉美食街\u003C/strong>\u003C/li>\n\u003Cli>\u003Cstrong>中华米粉美食街\u003C/strong>：8：00到达西湖区中华米粉美食街，品尝南昌拌粉和瓦罐汤，特色田螺。\u003C/li>\n\u003Cli>\u003Cstrong>八一广场\u003C/strong>：9：30左右抵达八一广场，参观八一起义纪念塔等标志性建筑，了解南昌的革命历史。如果时间充裕，可以去广场附近的南昌美术馆看看，馆内经常举办各种艺术展览，免费开放，需在公众号预约。\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>中午\u003C/strong>：前往万寿宫历史文化街区用餐。从八一广场步行约25分钟或骑行10分钟到达。正宗赣菜，如鄱阳湖狮子头、粉蒸肉等\u003C/li>\n\u003Cli>\u003Cstrong>下午\u003C/strong>\n\u003Cul>\n\u003Cli>\u003Cstrong>万寿宫历史文化街区\u003C/strong>：饭后游览万寿宫历史文化街区，游玩2 - 3小时。\u003C/li>\n\u003Cli>\u003Cstrong>南昌八一起义纪念馆\u003C/strong>：14：30左右前往南昌八一起义纪念馆，提前在微信搜索“八一纪念馆”小程序预约门票。预留1.5 - 2小时。\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>晚上\u003C/strong>\n\u003Cul>\n\u003Cli>\u003Cstrong>秋水广场\u003C/strong>：18：30左右前往秋水广场，亚洲最大的音乐喷泉表演，每晚有19：50、20：45两场（以当天公告为准）。喷泉表演结束后，欣赏对岸双子塔的夜景。\u003C/li>\n\u003Cli>\u003Cstrong>吃饭\u003C/strong>：\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\u003C/section>\u003Csection>\u003Ch3 id=\"第二天\">第二天\u003Ca class=\"anchor\" href=\"#第二天\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h3>\u003Cul>\n\u003Cli>\u003Cstrong>上午\u003C/strong>\n\u003Cul>\n\u003Cli>\u003Cstrong>大士院街\u003C/strong>：8：00到达大士院街，这里有很多当地特色美食，如老南昌白糖糕、无矾鸡蛋油条、油条包麻糍等。可以边吃边逛\u003C/li>\n\u003Cli>\u003Cstrong>滕王阁\u003C/strong>：9：00左右步行前往滕王阁，提前在滕王阁官方购票平台购票。1 - 3小时。\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>中午\u003C/strong>：在滕王阁附近用餐，品尝鄱阳湖狮子头、粉蒸肉等赣菜。\u003C/li>\n\u003Cli>\u003Cstrong>下午\u003C/strong>\n\u003Cul>\n\u003Cli>\u003Cstrong>江西省博物馆\u003C/strong>：前往江西省博物馆，提前在公众号上预约门票。\u003C/li>\n\u003Cli>\u003Cstrong>绳金塔\u003C/strong>：参观完省博物馆后，前往绳金塔，塔下还有绳金塔历史文化街区，可以逛逛古建筑，品尝各种中华老字号美食，如正宗的南昌瓦罐汤和炒粉等。\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>晚上\u003C/strong>\n\u003Cul>\n\u003Cli>\u003Cstrong>返程或者蛤蟆街\u003C/strong>：如果三天的话，去蛤蟆街逛逛，南昌最地道的美食街之一\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\u003C/section>\u003Csection>\u003Ch3 id=\"第三天端午假期第三天\">第三天（端午假期第三天）\u003Ca class=\"anchor\" href=\"#第三天端午假期第三天\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h3>\u003Cul>\n\u003Cli>\u003Cstrong>全天\u003C/strong>：海昏侯国遗址公园\u003C/li>\n\u003C/ul>\u003C/section>\u003C/section>\n\u003Csection>\u003Ch2 id=\"交通\">交通\u003Ca class=\"anchor\" href=\"#交通\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h2>\u003Cul>\n\u003Cli>\u003Cstrong>市内交通\u003C/strong>\u003C/li>\n\u003C/ul>\u003C/section>\n\u003Csection>\u003Ch2 id=\"美食推荐\">美食推荐\u003Ca class=\"anchor\" href=\"#美食推荐\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h2>\u003Cul>\n\u003Cli>\u003Cstrong>南昌拌粉\u003C/strong>：南昌特色美食，米粉爽滑有劲道，搭配各种调料和配菜，口感丰富。\u003C/li>\n\u003Cli>\u003Cstrong>瓦罐汤\u003C/strong>：以瓦罐为器具，用小火慢煨而成，汤鲜味美，有多种口味可供选择，如肉饼汤、排骨汤、鸡汤等。\u003C/li>\n\u003Cli>\u003Cstrong>赣菜\u003C/strong>：代表菜品有鄱阳湖狮子头、粉蒸肉、余干辣椒炒肉、啤酒烧鸭等，鲜、辣、香\u003C/li>\n\u003Cli>\u003Cstrong>南昌小吃\u003C/strong>：白糖糕、臭豆腐、粽子等，还有灯芯糕、石头街麻花、糊羹等\u003C/li>\n\u003C/ul>\u003C/section>\n\u003Csection>\u003Ch2 id=\"\">\u003C/h2>\u003C/section>",{"headings":197,"localImagePaths":223,"remoteImagePaths":224,"frontmatter":225,"imagePaths":231},[198,201,204,207,210,213,216,219,222],{"depth":42,"slug":199,"text":200},"-行程安排","⏰ 行程安排#",{"depth":42,"slug":202,"text":203},"-酒店","🏰 酒店#",{"depth":42,"slug":205,"text":206},"行程安排","行程安排#",{"depth":126,"slug":208,"text":209},"第一天","第一天#",{"depth":126,"slug":211,"text":212},"第二天","第二天#",{"depth":126,"slug":214,"text":215},"第三天端午假期第三天","第三天（端午假期第三天）#",{"depth":42,"slug":217,"text":218},"交通","交通#",{"depth":42,"slug":220,"text":221},"美食推荐","美食推荐#",{"depth":42,"slug":16,"text":16},[],[],{"title":183,"published":226,"updated":227,"description":183,"image":186,"tags":228,"category":190,"draft":82,"minutes":110,"words":229,"excerpt":230},["Date","2025-05-04T00:00:00.000Z"],["Date","2025-05-04T00:00:00.000Z"],[188,189],827,":::",[],"SH/南昌旅游计划.md","bjk/fuwari-修改图片",{"id":233,"data":235,"body":241,"filePath":242,"digest":243,"rendered":244,"legacyId":300},{"title":236,"published":237,"updated":238,"draft":82,"description":239,"image":16,"tags":240,"category":85,"lang":16,"prevTitle":16,"prevSlug":16,"nextTitle":16,"nextSlug":16},"Fuwari 修改图片",["Date","2024-01-01T00:00:00.000Z"],["Date","2025-05-10T00:00:00.000Z"],"在图片下方添加标题，修改图片大小",[85,86],"本篇参考 [feat: add image-caption feature](https://github.com/saicaca/fuwari/pull/351)\n\n# 效果展示\n\n![山的那边 w-50%](https://keke0420-1330580499.cos.ap-shanghai.myqcloud.com/img/%E5%9C%A8%E5%B1%B1%E7%9A%84%E9%82%A3%E8%BE%B94K%E9%A3%8E%E6%99%AF%E5%A3%81%E7%BA%B83840x2160_%E5%BD%BC%E5%B2%B8%E5%9B%BE%E7%BD%91.jpg?imagevanblog \"我是图片标题\")\n\n# 如何修改\n\n## 新增`image-caption.css`\n\n`src/styles/image-caption.css`\n\n```\nfigure.image-caption {\n  inline-size: fit-content;\n  margin-inline: auto;\n\n  > a,\n  > div {\n    @apply flex flex-wrap justify-center gap-2 sm:gap-4;\n\n    > figure {\n      @apply m-0;\n\n      inline-size: fit-content;\n    }\n\n    > img,\n    > figure > img {\n      @apply min-w-[150px] max-w-[150px] sm:max-w-[300px] m-0;\n    }\n\n    > img:only-of-type,\n    > figure:only-of-type > img {\n      @apply min-w-[300px] max-w-[300px] sm:max-w-[600px];\n    }\n  }\n\n  > a:has(> img:nth-of-type(2)),\n  > a:has(> figure:nth-of-type(2)) {\n    @apply max-w-[316px] sm:max-w-[624px];\n  }\n\n  > div:has(> img:nth-of-type(2)),\n  > div:has(> figure:nth-of-type(2)) {\n    @apply max-w-[308px] sm:max-w-[616px];\n  }\n}\n\nfigure.image-caption > a img {\n  @apply pointer-events-none;\n}\n\nfigure.image-caption figcaption {\n  @apply break-words;\n\n  inline-size: 0;\n  min-inline-size: fit-content;\n  margin-inline: auto;\n}\n```\n\n\n\n## 新增remark-image-caption.ts`\n\n### `src/plugins/remark-image-caption.ts`\n\n```\nimport deepmerge from \"@fastify/deepmerge\";\nimport { type Child, type Properties, h } from \"hastscript\";\nimport type {\n    Image,\n    Link,\n    Paragraph,\n    PhrasingContent,\n    Root,\n    RootContent,\n} from \"mdast\";\nimport type { Plugin, Transformer } from \"unified\";\nimport { visit } from \"unist-util-visit\";\nimport type { Visitor } from \"unist-util-visit\";\n\ntype DeepPartial\u003CT> = T extends object\n    ? {\n        [P in keyof T]?: DeepPartial\u003CT[P]>;\n    }\n    : T;\n\ninterface LinkAttributes {\n    target: string;\n    rel: string;\n}\n\ninterface Options {\n    className: string;\n    excludedPaths: (string | RegExp)[];\n    lazyLoad: boolean;\n    linkAttributes: LinkAttributes;\n}\n\ntype UserOptions = DeepPartial\u003COptions>;\n\nconst defaultOptions: Options = {\n    className: \"\",\n    excludedPaths: [],\n    lazyLoad: false,\n    linkAttributes: { target: \"\", rel: \"\" },\n};\n\nconst remarkImageCaption: Plugin\u003C[UserOptions?], Root> = (options) => {\n    const mergedOptions = deepmerge()(defaultOptions, options ?? {}) as Options;\n\n    const transformer: Transformer\u003CRoot> = async (tree) => {\n        const visitor: Visitor\u003CParagraph> = (paragraphNode, index, parent) => {\n            if (\n                index === undefined ||\n                parent === undefined ||\n                parent.type !== \"root\" ||\n                paragraphNode.data !== undefined\n            )\n                return;\n\n            const customNodes = createCustomNodes(paragraphNode, mergedOptions);\n\n            if (customNodes.length) {\n                parent.children.splice(index, 1, ...customNodes);\n            }\n        };\n\n        visit(tree, \"paragraph\", visitor);\n    };\n\n    return transformer;\n};\n\nconst isExcluded = (input: string, patterns: (string | RegExp)[]): boolean => {\n    for (const pattern of patterns) {\n        if (typeof pattern === \"string\") {\n            if (input.includes(pattern)) return true;\n        } else if (pattern instanceof RegExp) {\n            if (pattern.test(input)) return true;\n        }\n    }\n\n    return false;\n};\n\nconst isSoftBreak = (node: PhrasingContent): boolean => {\n    return node.type === \"text\" && (node.value === \"\\n\" || node.value === \"\\r\\n\");\n};\n\nconst containsOnlyImageRelatedChildren = (\n    node: Paragraph | Link,\n    patterns: (string | RegExp)[],\n): boolean => {\n    return node.children.every(\n        (child) =>\n            (child.type === \"image\" && !isExcluded(child.url, patterns)) ||\n            child.type === \"break\" ||\n            isSoftBreak(child),\n    );\n};\n\nconst extractValidImageNodes = (\n    paragraphNode: Paragraph,\n    options: Options,\n): Image[] => {\n    const hasImages = containsOnlyImageRelatedChildren(\n        paragraphNode,\n        options.excludedPaths,\n    );\n\n    return hasImages\n        ? paragraphNode.children.filter((child) => child.type === \"image\")\n        : [];\n};\n\nconst extractValidImageLinkNodes = (\n    paragraphNode: Paragraph,\n    options: Options,\n): Link[] => {\n    const hasImageLinks = paragraphNode.children.every(\n        (child) =>\n            child.type === \"link\" &&\n            child.children.length &&\n            containsOnlyImageRelatedChildren(child, options.excludedPaths),\n    );\n\n    return hasImageLinks\n        ? ((paragraphNode.children as Link[]).map((child) => ({\n            ...child,\n            children: child.children.filter(\n                (subChild) => subChild.type === \"image\",\n            ),\n        })) as Link[])\n        : [];\n};\n\nconst createImageProperties = (\n    imageNode: Image,\n    lazyLoad: boolean,\n): Properties => {\n    return {\n        alt: imageNode.alt,\n        src: imageNode.url,\n        ...(lazyLoad && { loading: \"lazy\" }),\n    };\n};\n\nconst createFigureFromImages = (\n    imageNodes: Image[],\n    options: Options,\n): RootContent => {\n    const canNest = imageNodes.every((imageNode) => imageNode.title);\n\n    let children: Child[];\n\n    if (canNest) {\n        children = imageNodes.map((imageNode) =>\n            h(\"figure\", {}, [\n                h(\"img\", createImageProperties(imageNode, options.lazyLoad), []),\n                h(\"figcaption\", {}, [imageNode.title]),\n            ]),\n        );\n    } else {\n        children = imageNodes.map((imageNode) =>\n            h(\"img\", createImageProperties(imageNode, options.lazyLoad), []),\n        );\n    }\n\n    return {\n        type: \"text\",\n        value: \"\",\n        data: {\n            hName: \"figure\",\n            hProperties: {\n                ...(options.className ? { class: options.className } : {}),\n            },\n            hChildren: [\n                h(\"div\", {}, ...children),\n                ...(!canNest && imageNodes[0].title\n                    ? [h(\"figcaption\", {}, [imageNodes[0].title])]\n                    : []),\n            ],\n        },\n    };\n};\n\nconst isAbsoluteUrl = (url: string): boolean => {\n    return /^[a-z][a-z\\d+\\-.]*:/i.test(url);\n};\n\nconst createFigureFromLink = (\n    linkNode: Link,\n    options: Options,\n): RootContent => {\n    const imageNodes = linkNode.children as Image[];\n    const canNest = imageNodes.some((imageNode) => imageNode.title);\n    const target = options.linkAttributes.target;\n    const rel = options.linkAttributes.rel;\n\n    let children: Child[];\n\n    if (canNest) {\n        children = imageNodes.map((imageNode) =>\n            h(\"figure\", {}, [\n                h(\"img\", createImageProperties(imageNode, options.lazyLoad), []),\n                ...(imageNode.title ? [h(\"figcaption\", {}, [imageNode.title])] : []),\n            ]),\n        );\n    } else {\n        children = imageNodes.map((imageNode) =>\n            h(\"img\", createImageProperties(imageNode, options.lazyLoad), []),\n        );\n    }\n\n    return {\n        type: \"text\",\n        value: \"\",\n        data: {\n            hName: \"figure\",\n            hProperties: {\n                ...(options.className ? { class: options.className } : {}),\n            },\n            hChildren: [\n                h(\n                    \"a\",\n                    {\n                        href: linkNode.url,\n                        ...(isAbsoluteUrl(linkNode.url) && {\n                            ...(target && { target }),\n                            ...(rel && { rel }),\n                        }),\n                    },\n                    ...children,\n                ),\n                ...(linkNode.title ? [h(\"figcaption\", {}, [linkNode.title])] : []),\n            ],\n        },\n    };\n};\n\nconst createCustomNodes = (\n    paragraphNode: Paragraph,\n    options: Options,\n): RootContent[] => {\n    const nodes: RootContent[] = [];\n\n    let extractedNodes: Image[] | Link[] = extractValidImageNodes(\n        paragraphNode,\n        options,\n    );\n\n    if (extractedNodes.length) {\n        const newNode = createFigureFromImages(extractedNodes, options);\n        nodes.push(newNode);\n        return nodes;\n    }\n\n    extractedNodes = extractValidImageLinkNodes(paragraphNode, options);\n\n    if (extractedNodes.length) {\n        for (const extractedNode of extractedNodes) {\n            const newNode = createFigureFromLink(extractedNode, options);\n            nodes.push(newNode);\n        }\n        return nodes;\n    }\n\n    return [];\n};\n\nexport default remarkImageCaption;\nexport type { UserOptions };\n\n```\n\n\n\n## 新增`remark-image-width.js'`\n\n### `'/src/plugins/remark-image-width.js'`\n\n```\nimport { visit } from \"unist-util-visit\";\n\nexport default function remarkImageWidth() {\n    var regex = / w-([0-9]+)%/\n    const transformer = async tree => {\n        const visitor = (paragraphNode, index, parent) => {\n            if (index === undefined || parent === undefined) return\n\n            parent.children.forEach((node, index, parent) => {\n                if (node.type === 'text' && node.data !== undefined && node.data.hName === 'figure') {\n                    findImgNodes(node).forEach(img => {\n                        const { parentNode, imgNode } = img\n                        if (imgNode.properties.alt.search(regex) != -1) {\n                            if (parentNode !== undefined && parentNode.tagName === 'figure') {\n                                imgNode.properties.width = `${imgNode.properties.alt.match(regex)[1]}%`\n                                parentNode.properties.style = `justify-items: center;`\n                            }\n                            imgNode.properties.alt = imgNode.properties.alt.replace(regex, \"\")\n                        }\n                    })\n                }\n            })\n        }\n        visit(tree, 'paragraph', visitor)\n    }\n    return transformer\n}\n\nfunction findImgNodes(node, parent = undefined, imgNodes = []) {\n    if (node.tagName === 'img') {\n        imgNodes.push({'parentNode': parent, 'imgNode': node})\n    } else if (node.data !== undefined && node.data.hChildren !== undefined) {\n        node.data.hChildren.forEach(child => findImgNodes(child, node, imgNodes))\n    } else if (node.children !== undefined) {\n        node.children.forEach(child => findImgNodes(child, node, imgNodes))\n    }\n    return imgNodes\n}\n\n```\n\n\n\n## 修改`[...slug].astro`\n\n### `src/pages/posts/[...slug].astro`\n\n第102 行左右找到👇\n\n```\n\u003CMarkdown class=\"mb-6 markdown-content onload-animation\">          \n```\n\n改成👇\n\n```\n \u003CMarkdown class=\"mb-6 markdown-content onload-animation\" basePath={path.join(\"content/posts/\", getDir(entry.id))}>\n```\n\n\n\n## 修改`Markdown.astro`\n\n### `src/components/misc/Markdown.astro`\n\n添加依赖\n\n```\nimport path from 'node:path'\nimport { getImage } from 'astro:assets'\nimport { parseHTML } from 'linkedom'\n```\n\n\n\n第7行左右找到👇\n\n```\ninterface Props {\n  class: string\n}\n```\n\n改成👇\n\n```\ninterface Props {\n  class: string\n  basePath?: string\n}\n```\n\n\n\n第 11 行左右找到👇\n\n```\nconst className = Astro.props.class\n```\n\n改成\n\n```\nconst { class: className, basePath = '/' } = Astro.props\n/*\n * Normally, relative paths under the `src` directory are handled by Astro.\n * However, paths that the plugin couldn't process may appear here and require separate handling.\n */\nconst html = await Astro.slots.render('default')\nconst { document } = parseHTML(html)\nawait (async () => {\n  // biome-ignore lint/suspicious/noExplicitAny: \u003Cexplanation>\n  const modules: Record\u003Cstring, any> = import.meta.glob(\n    '../../**/*.{jpeg,jpg,png,tiff,webp,gif,svg,avif}',\n  )\n  const re = /^(?![a-zA-Z]+:\\/|\\/)/\n  for (const img of document.querySelectorAll('img')) {\n    const src = img.getAttribute('src')\n    if (!src || !re.test(src)) continue\n    const normalizedPath = path\n      .normalize(path.join('../../', basePath, src))\n      .replaceAll('\\\\', '/')\n    const moduleLoader = modules[normalizedPath]\n    if (!moduleLoader) continue\n    try {\n      const module = await moduleLoader()\n      const result = await getImage({ src: module.default })\n      img.setAttribute('src', result.src)\n    } catch (error) {\n      console.warn(\n        `Skipping image \"${normalizedPath}\" due to processing error:`,\n        error,\n      )\n    }\n  }\n})()\n```\n\n\n\n第 48 行左右找到👇\n\n```\n \u003Cslot/>\n```\n\n改成👇\n\n```\n    \u003CFragment set:html={document.toString()} />\n```\n\n\n\n## 修改`astro.config.mjs`\n\n### `astro.config.mjs`\n\n添加👇\n\n```\nimport remarkImageCaption from \"./src/plugins/remark-image-caption.ts\";//图片标题\nimport remarkImageWidth from './src/plugins/remark-image-width.js'图片大小\n```\n\n找到 `remarkPlugins`改成👇\n\n```\n  remarkPlugins: [\n            remarkMath, // 支持 $ 数学语法\n            remarkReadingTime, // 计算阅读时长\n            remarkExcerpt, // 自动生成摘要\n            remarkGithubAdmonitionsToDirectives, // 支持 GitHub 风格提示块\n            remarkDirective, // 支持 ::note 等指令\n            [\n                remarkImageCaption,\n                {\n                    className: 'image-caption',\n                },\n            ],\n            remarkImageWidth,\n            remarkSectionize, // 自动 section 包裹\n            parseDirectiveNode, // 自定义指令处理\n        ],\n```\n\n\n\n# 用法\n\n```\n![山的那边 w-50%](url “你要修改的标题”)\n```","src/content/posts/BJK/Fuwari 修改图片.md","9d6ccbc212708834",{"html":245,"metadata":246},"\u003Cp>本篇参考 \u003Ca href=\"https://github.com/saicaca/fuwari/pull/351\">feat: add image-caption feature\u003C/a>\u003C/p>\n\u003Csection>\u003Ch1 id=\"效果展示\">效果展示\u003Ca class=\"anchor\" href=\"#效果展示\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h1>\u003Cfigure class=\"image-caption\">\u003Cdiv>\u003Cfigure style=\"justify-items: center;\">\u003Cimg alt=\"山的那边\" src=\"https://keke0420-1330580499.cos.ap-shanghai.myqcloud.com/img/%E5%9C%A8%E5%B1%B1%E7%9A%84%E9%82%A3%E8%BE%B94K%E9%A3%8E%E6%99%AF%E5%A3%81%E7%BA%B83840x2160_%E5%BD%BC%E5%B2%B8%E5%9B%BE%E7%BD%91.jpg?imagevanblog\" width=\"50%\">\u003Cfigcaption>我是图片标题\u003C/figcaption>\u003C/figure>\u003C/div>\u003C/figure>\u003C/section>\n\u003Csection>\u003Ch1 id=\"如何修改\">如何修改\u003Ca class=\"anchor\" href=\"#如何修改\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h1>\u003Csection>\u003Ch2 id=\"新增image-captioncss\">新增\u003Ccode>image-caption.css\u003C/code>\u003Ca class=\"anchor\" href=\"#新增image-captioncss\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h2>\u003Cp>\u003Ccode>src/styles/image-caption.css\u003C/code>\u003C/p>\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>figure.image-caption {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  inline-size: fit-content;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  margin-inline: auto;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  > a,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  > div {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    @apply flex flex-wrap justify-center gap-2 sm:gap-4;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    > figure {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>      @apply m-0;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>      inline-size: fit-content;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    > img,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    > figure > img {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>      @apply min-w-[150px] max-w-[150px] sm:max-w-[300px] m-0;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    > img:only-of-type,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    > figure:only-of-type > img {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>      @apply min-w-[300px] max-w-[300px] sm:max-w-[600px];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  > a:has(> img:nth-of-type(2)),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  > a:has(> figure:nth-of-type(2)) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    @apply max-w-[316px] sm:max-w-[624px];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  > div:has(> img:nth-of-type(2)),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  > div:has(> figure:nth-of-type(2)) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    @apply max-w-[308px] sm:max-w-[616px];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>figure.image-caption > a img {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  @apply pointer-events-none;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>figure.image-caption figcaption {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  @apply break-words;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  inline-size: 0;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  min-inline-size: fit-content;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  margin-inline: auto;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\u003C/section>\u003Csection>\u003Ch2 id=\"新增remark-image-captionts\">新增remark-image-caption.ts`\u003Ca class=\"anchor\" href=\"#新增remark-image-captionts\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h2>\u003Csection>\u003Ch3 id=\"srcpluginsremark-image-captionts\">\u003Ccode>src/plugins/remark-image-caption.ts\u003C/code>\u003Ca class=\"anchor\" href=\"#srcpluginsremark-image-captionts\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h3>\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>import deepmerge from \"@fastify/deepmerge\";\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>import { type Child, type Properties, h } from \"hastscript\";\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>import type {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    Image,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    Link,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    Paragraph,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    PhrasingContent,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    Root,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    RootContent,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>} from \"mdast\";\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>import type { Plugin, Transformer } from \"unified\";\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>import { visit } from \"unist-util-visit\";\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>import type { Visitor } from \"unist-util-visit\";\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>type DeepPartial&#x3C;T> = T extends object\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    ? {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        [P in keyof T]?: DeepPartial&#x3C;T[P]>;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    : T;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>interface LinkAttributes {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    target: string;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    rel: string;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>interface Options {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    className: string;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    excludedPaths: (string | RegExp)[];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    lazyLoad: boolean;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    linkAttributes: LinkAttributes;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>type UserOptions = DeepPartial&#x3C;Options>;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>const defaultOptions: Options = {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    className: \"\",\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    excludedPaths: [],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    lazyLoad: false,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    linkAttributes: { target: \"\", rel: \"\" },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>};\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>const remarkImageCaption: Plugin&#x3C;[UserOptions?], Root> = (options) => {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    const mergedOptions = deepmerge()(defaultOptions, options ?? {}) as Options;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    const transformer: Transformer&#x3C;Root> = async (tree) => {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        const visitor: Visitor&#x3C;Paragraph> = (paragraphNode, index, parent) => {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            if (\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                index === undefined ||\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                parent === undefined ||\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                parent.type !== \"root\" ||\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                paragraphNode.data !== undefined\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            )\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                return;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            const customNodes = createCustomNodes(paragraphNode, mergedOptions);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            if (customNodes.length) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                parent.children.splice(index, 1, ...customNodes);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        visit(tree, \"paragraph\", visitor);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    return transformer;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>};\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>const isExcluded = (input: string, patterns: (string | RegExp)[]): boolean => {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    for (const pattern of patterns) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        if (typeof pattern === \"string\") {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            if (input.includes(pattern)) return true;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        } else if (pattern instanceof RegExp) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            if (pattern.test(input)) return true;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    return false;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>};\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>const isSoftBreak = (node: PhrasingContent): boolean => {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    return node.type === \"text\" &#x26;&#x26; (node.value === \"\\n\" || node.value === \"\\r\\n\");\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>};\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>const containsOnlyImageRelatedChildren = (\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    node: Paragraph | Link,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    patterns: (string | RegExp)[],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>): boolean => {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    return node.children.every(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        (child) =>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            (child.type === \"image\" &#x26;&#x26; !isExcluded(child.url, patterns)) ||\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            child.type === \"break\" ||\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            isSoftBreak(child),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    );\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>};\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>const extractValidImageNodes = (\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    paragraphNode: Paragraph,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    options: Options,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>): Image[] => {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    const hasImages = containsOnlyImageRelatedChildren(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        paragraphNode,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        options.excludedPaths,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    );\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    return hasImages\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        ? paragraphNode.children.filter((child) => child.type === \"image\")\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        : [];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>};\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>const extractValidImageLinkNodes = (\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    paragraphNode: Paragraph,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    options: Options,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>): Link[] => {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    const hasImageLinks = paragraphNode.children.every(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        (child) =>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            child.type === \"link\" &#x26;&#x26;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            child.children.length &#x26;&#x26;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            containsOnlyImageRelatedChildren(child, options.excludedPaths),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    );\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    return hasImageLinks\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        ? ((paragraphNode.children as Link[]).map((child) => ({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            ...child,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            children: child.children.filter(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                (subChild) => subChild.type === \"image\",\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            ),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        })) as Link[])\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        : [];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>};\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>const createImageProperties = (\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    imageNode: Image,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    lazyLoad: boolean,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>): Properties => {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    return {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        alt: imageNode.alt,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        src: imageNode.url,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        ...(lazyLoad &#x26;&#x26; { loading: \"lazy\" }),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>};\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>const createFigureFromImages = (\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    imageNodes: Image[],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    options: Options,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>): RootContent => {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    const canNest = imageNodes.every((imageNode) => imageNode.title);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    let children: Child[];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    if (canNest) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        children = imageNodes.map((imageNode) =>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            h(\"figure\", {}, [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                h(\"img\", createImageProperties(imageNode, options.lazyLoad), []),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                h(\"figcaption\", {}, [imageNode.title]),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            ]),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        );\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    } else {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        children = imageNodes.map((imageNode) =>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            h(\"img\", createImageProperties(imageNode, options.lazyLoad), []),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        );\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    return {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        type: \"text\",\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        value: \"\",\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        data: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            hName: \"figure\",\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            hProperties: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                ...(options.className ? { class: options.className } : {}),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            hChildren: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                h(\"div\", {}, ...children),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                ...(!canNest &#x26;&#x26; imageNodes[0].title\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                    ? [h(\"figcaption\", {}, [imageNodes[0].title])]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                    : []),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>};\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>const isAbsoluteUrl = (url: string): boolean => {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    return /^[a-z][a-z\\d+\\-.]*:/i.test(url);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>};\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>const createFigureFromLink = (\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    linkNode: Link,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    options: Options,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>): RootContent => {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    const imageNodes = linkNode.children as Image[];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    const canNest = imageNodes.some((imageNode) => imageNode.title);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    const target = options.linkAttributes.target;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    const rel = options.linkAttributes.rel;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    let children: Child[];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    if (canNest) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        children = imageNodes.map((imageNode) =>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            h(\"figure\", {}, [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                h(\"img\", createImageProperties(imageNode, options.lazyLoad), []),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                ...(imageNode.title ? [h(\"figcaption\", {}, [imageNode.title])] : []),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            ]),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        );\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    } else {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        children = imageNodes.map((imageNode) =>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            h(\"img\", createImageProperties(imageNode, options.lazyLoad), []),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        );\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    return {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        type: \"text\",\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        value: \"\",\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        data: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            hName: \"figure\",\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            hProperties: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                ...(options.className ? { class: options.className } : {}),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            hChildren: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                h(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                    \"a\",\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                    {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                        href: linkNode.url,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                        ...(isAbsoluteUrl(linkNode.url) &#x26;&#x26; {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                            ...(target &#x26;&#x26; { target }),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                            ...(rel &#x26;&#x26; { rel }),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                        }),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                    },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                    ...children,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                ),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                ...(linkNode.title ? [h(\"figcaption\", {}, [linkNode.title])] : []),\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>};\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>const createCustomNodes = (\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    paragraphNode: Paragraph,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    options: Options,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>): RootContent[] => {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    const nodes: RootContent[] = [];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    let extractedNodes: Image[] | Link[] = extractValidImageNodes(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        paragraphNode,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        options,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    );\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    if (extractedNodes.length) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        const newNode = createFigureFromImages(extractedNodes, options);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        nodes.push(newNode);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        return nodes;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    extractedNodes = extractValidImageLinkNodes(paragraphNode, options);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    if (extractedNodes.length) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        for (const extractedNode of extractedNodes) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            const newNode = createFigureFromLink(extractedNode, options);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            nodes.push(newNode);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        return nodes;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    return [];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>};\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>export default remarkImageCaption;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>export type { UserOptions };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\u003C/section>\u003C/section>\u003Csection>\u003Ch2 id=\"新增remark-image-widthjs\">新增\u003Ccode>remark-image-width.js'\u003C/code>\u003Ca class=\"anchor\" href=\"#新增remark-image-widthjs\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h2>\u003Csection>\u003Ch3 id=\"srcpluginsremark-image-widthjs\">\u003Ccode>'/src/plugins/remark-image-width.js'\u003C/code>\u003Ca class=\"anchor\" href=\"#srcpluginsremark-image-widthjs\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h3>\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>import { visit } from \"unist-util-visit\";\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>export default function remarkImageWidth() {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    var regex = / w-([0-9]+)%/\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    const transformer = async tree => {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        const visitor = (paragraphNode, index, parent) => {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            if (index === undefined || parent === undefined) return\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            parent.children.forEach((node, index, parent) => {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                if (node.type === 'text' &#x26;&#x26; node.data !== undefined &#x26;&#x26; node.data.hName === 'figure') {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                    findImgNodes(node).forEach(img => {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                        const { parentNode, imgNode } = img\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                        if (imgNode.properties.alt.search(regex) != -1) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                            if (parentNode !== undefined &#x26;&#x26; parentNode.tagName === 'figure') {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                                imgNode.properties.width = `${imgNode.properties.alt.match(regex)[1]}%`\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                                parentNode.properties.style = `justify-items: center;`\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                            }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                            imgNode.properties.alt = imgNode.properties.alt.replace(regex, \"\")\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                    })\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            })\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        visit(tree, 'paragraph', visitor)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    return transformer\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>function findImgNodes(node, parent = undefined, imgNodes = []) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    if (node.tagName === 'img') {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        imgNodes.push({'parentNode': parent, 'imgNode': node})\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    } else if (node.data !== undefined &#x26;&#x26; node.data.hChildren !== undefined) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        node.data.hChildren.forEach(child => findImgNodes(child, node, imgNodes))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    } else if (node.children !== undefined) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        node.children.forEach(child => findImgNodes(child, node, imgNodes))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    return imgNodes\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\u003C/section>\u003C/section>\u003Csection>\u003Ch2 id=\"修改slugastro\">修改\u003Ccode>[...slug].astro\u003C/code>\u003Ca class=\"anchor\" href=\"#修改slugastro\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h2>\u003Csection>\u003Ch3 id=\"srcpagespostsslugastro\">\u003Ccode>src/pages/posts/[...slug].astro\u003C/code>\u003Ca class=\"anchor\" href=\"#srcpagespostsslugastro\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h3>\u003Cp>第102 行左右找到👇\u003C/p>\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>&#x3C;Markdown class=\"mb-6 markdown-content onload-animation\">          \u003C/span>\u003C/span>\u003C/code>\u003C/pre>\u003Cp>改成👇\u003C/p>\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan> &#x3C;Markdown class=\"mb-6 markdown-content onload-animation\" basePath={path.join(\"content/posts/\", getDir(entry.id))}>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\u003C/section>\u003C/section>\u003Csection>\u003Ch2 id=\"修改markdownastro\">修改\u003Ccode>Markdown.astro\u003C/code>\u003Ca class=\"anchor\" href=\"#修改markdownastro\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h2>\u003Csection>\u003Ch3 id=\"srccomponentsmiscmarkdownastro\">\u003Ccode>src/components/misc/Markdown.astro\u003C/code>\u003Ca class=\"anchor\" href=\"#srccomponentsmiscmarkdownastro\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h3>\u003Cp>添加依赖\u003C/p>\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>import path from 'node:path'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>import { getImage } from 'astro:assets'\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>import { parseHTML } from 'linkedom'\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\u003Cp>第7行左右找到👇\u003C/p>\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>interface Props {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  class: string\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\u003Cp>改成👇\u003C/p>\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>interface Props {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  class: string\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  basePath?: string\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\u003Cp>第 11 行左右找到👇\u003C/p>\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>const className = Astro.props.class\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\u003Cp>改成\u003C/p>\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>const { class: className, basePath = '/' } = Astro.props\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>/*\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan> * Normally, relative paths under the `src` directory are handled by Astro.\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan> * However, paths that the plugin couldn't process may appear here and require separate handling.\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan> */\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>const html = await Astro.slots.render('default')\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>const { document } = parseHTML(html)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>await (async () => {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  // biome-ignore lint/suspicious/noExplicitAny: &#x3C;explanation>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  const modules: Record&#x3C;string, any> = import.meta.glob(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    '../../**/*.{jpeg,jpg,png,tiff,webp,gif,svg,avif}',\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  )\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  const re = /^(?![a-zA-Z]+:\\/|\\/)/\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  for (const img of document.querySelectorAll('img')) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    const src = img.getAttribute('src')\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    if (!src || !re.test(src)) continue\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    const normalizedPath = path\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>      .normalize(path.join('../../', basePath, src))\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>      .replaceAll('\\\\', '/')\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    const moduleLoader = modules[normalizedPath]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    if (!moduleLoader) continue\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    try {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>      const module = await moduleLoader()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>      const result = await getImage({ src: module.default })\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>      img.setAttribute('src', result.src)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    } catch (error) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>      console.warn(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        `Skipping image \"${normalizedPath}\" due to processing error:`,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        error,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>      )\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>})()\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\u003Cp>第 48 行左右找到👇\u003C/p>\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan> &#x3C;slot/>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\u003Cp>改成👇\u003C/p>\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>    &#x3C;Fragment set:html={document.toString()} />\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\u003C/section>\u003C/section>\u003Csection>\u003Ch2 id=\"修改astroconfigmjs\">修改\u003Ccode>astro.config.mjs\u003C/code>\u003Ca class=\"anchor\" href=\"#修改astroconfigmjs\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h2>\u003Csection>\u003Ch3 id=\"astroconfigmjs\">\u003Ccode>astro.config.mjs\u003C/code>\u003Ca class=\"anchor\" href=\"#astroconfigmjs\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h3>\u003Cp>添加👇\u003C/p>\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>import remarkImageCaption from \"./src/plugins/remark-image-caption.ts\";//图片标题\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>import remarkImageWidth from './src/plugins/remark-image-width.js'图片大小\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\u003Cp>找到 \u003Ccode>remarkPlugins\u003C/code>改成👇\u003C/p>\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>  remarkPlugins: [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            remarkMath, // 支持 $ 数学语法\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            remarkReadingTime, // 计算阅读时长\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            remarkExcerpt, // 自动生成摘要\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            remarkGithubAdmonitionsToDirectives, // 支持 GitHub 风格提示块\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            remarkDirective, // 支持 ::note 等指令\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                remarkImageCaption,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                    className: 'image-caption',\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>                },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            ],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            remarkImageWidth,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            remarkSectionize, // 自动 section 包裹\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>            parseDirectiveNode, // 自定义指令处理\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>        ],\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\u003C/section>\u003C/section>\u003C/section>\n\u003Csection>\u003Ch1 id=\"用法\">用法\u003Ca class=\"anchor\" href=\"#用法\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h1>\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>![山的那边 w-50%](url “你要修改的标题”)\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\u003C/section>",{"headings":247,"localImagePaths":290,"remoteImagePaths":291,"frontmatter":292,"imagePaths":299},[248,251,254,257,260,263,266,269,272,275,278,281,284,287],{"depth":14,"slug":249,"text":250},"效果展示","效果展示#",{"depth":14,"slug":252,"text":253},"如何修改","如何修改#",{"depth":42,"slug":255,"text":256},"新增image-captioncss","新增image-caption.css#",{"depth":42,"slug":258,"text":259},"新增remark-image-captionts","新增remark-image-caption.ts`#",{"depth":126,"slug":261,"text":262},"srcpluginsremark-image-captionts","src/plugins/remark-image-caption.ts#",{"depth":42,"slug":264,"text":265},"新增remark-image-widthjs","新增remark-image-width.js'#",{"depth":126,"slug":267,"text":268},"srcpluginsremark-image-widthjs","'/src/plugins/remark-image-width.js'#",{"depth":42,"slug":270,"text":271},"修改slugastro","修改[...slug].astro#",{"depth":126,"slug":273,"text":274},"srcpagespostsslugastro","src/pages/posts/[...slug].astro#",{"depth":42,"slug":276,"text":277},"修改markdownastro","修改Markdown.astro#",{"depth":126,"slug":279,"text":280},"srccomponentsmiscmarkdownastro","src/components/misc/Markdown.astro#",{"depth":42,"slug":282,"text":283},"修改astroconfigmjs","修改astro.config.mjs#",{"depth":126,"slug":285,"text":286},"astroconfigmjs","astro.config.mjs#",{"depth":14,"slug":288,"text":289},"用法","用法#",[],[],{"title":236,"published":293,"updated":294,"description":239,"image":16,"tags":295,"category":85,"draft":82,"lang":16,"minutes":296,"words":297,"excerpt":298},["Date","2024-01-01T00:00:00.000Z"],["Date","2025-05-10T00:00:00.000Z"],[85,86],7,1309,"本篇参考 feat: add image-caption feature",[],"BJK/Fuwari 修改图片.md","bjk/fuwari-修改创建文章命令",{"id":301,"data":303,"body":308,"filePath":309,"digest":310,"rendered":311,"legacyId":335},{"title":304,"published":305,"draft":82,"description":306,"image":16,"tags":307,"category":85,"lang":16,"prevTitle":16,"prevSlug":16,"nextTitle":16,"nextSlug":16},"Fuwari 修改创建文章命令",["Date","2025-05-11T00:00:00.000Z"],"允许将文章存入指定子目录，解决了原本只能统一扁平存放的问题。",[85,86],"# 改动\n\n`scripts/new-post.js`修改对应的代码：\n\n```\nimport fs from \"fs\";\nimport path from \"path\";\n\nfunction getDate() {\n  const today = new Date();\n  const year = today.getFullYear();\n  const month = String(today.getMonth() + 1).padStart(2, \"0\");\n  const day = String(today.getDate()).padStart(2, \"0\");\n  return `${year}-${month}-${day}`;\n}\n\nconst args = process.argv.slice(2);\n\nif (args.length === 0) {\n  console.error(`Error: No path provided\nUsage: pnpm new-post \u003Cpath/to/filename>`);\n  process.exit(1);\n}\n\n// 根目录统一为 ./src/content/posts/\nconst rootDir = path.resolve(\"src/content/posts\");\n\n// 解析传入的路径（可以是 xxx/yyy/filename 或 justfilename）\nlet relativePath = args[0];\nlet parsedPath = path.parse(relativePath);\n\n// 确定完整目录和文件名\nconst targetDir = path.join(rootDir, parsedPath.dir);\nlet fileName = parsedPath.base;\n\n// 如果没加扩展名，默认加 .md\nif (!/\\.(md|mdx)$/i.test(fileName)) {\n  fileName += \".md\";\n}\n\nconst fullPath = path.join(targetDir, fileName);\n\n// 创建目录（如果不存在）\nif (!fs.existsSync(targetDir)) {\n  fs.mkdirSync(targetDir, { recursive: true });\n}\n\n// 防止覆盖已有文件\nif (fs.existsSync(fullPath)) {\n  console.error(`Error: File already exists at ${fullPath}`);\n  process.exit(1);\n}\n\n// Frontmatter 模板\nconst content = `---\ntitle: ${parsedPath.name}\npublished: ${getDate()}\ndescription: ''\nimage: ''\ntags: []\ncategory: ''\ndraft: false\nlang: ''\n---\n`;\n\nfs.writeFileSync(fullPath, content);\n\nconsole.log(`✅ Post created at ${fullPath}`);\n\n```\n\n# 使用指令\n\n## 多级目录\n\n```\npnpm new-post mulu1/mulu2/index\n```\n\n## 单级目录\n\n```\npnpm new-post index\n```","src/content/posts/BJK/Fuwari 修改创建文章命令.md","5b6e2ce5919b0f6f",{"html":312,"metadata":313},"\u003Csection>\u003Ch1 id=\"改动\">改动\u003Ca class=\"anchor\" href=\"#改动\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h1>\u003Cp>\u003Ccode>scripts/new-post.js\u003C/code>修改对应的代码：\u003C/p>\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>import fs from \"fs\";\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>import path from \"path\";\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>function getDate() {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  const today = new Date();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  const year = today.getFullYear();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  const month = String(today.getMonth() + 1).padStart(2, \"0\");\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  const day = String(today.getDate()).padStart(2, \"0\");\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  return `${year}-${month}-${day}`;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>const args = process.argv.slice(2);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>if (args.length === 0) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  console.error(`Error: No path provided\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>Usage: pnpm new-post &#x3C;path/to/filename>`);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  process.exit(1);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>// 根目录统一为 ./src/content/posts/\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>const rootDir = path.resolve(\"src/content/posts\");\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>// 解析传入的路径（可以是 xxx/yyy/filename 或 justfilename）\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>let relativePath = args[0];\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>let parsedPath = path.parse(relativePath);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>// 确定完整目录和文件名\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>const targetDir = path.join(rootDir, parsedPath.dir);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>let fileName = parsedPath.base;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>// 如果没加扩展名，默认加 .md\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>if (!/\\.(md|mdx)$/i.test(fileName)) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  fileName += \".md\";\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>const fullPath = path.join(targetDir, fileName);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>// 创建目录（如果不存在）\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>if (!fs.existsSync(targetDir)) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  fs.mkdirSync(targetDir, { recursive: true });\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>// 防止覆盖已有文件\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>if (fs.existsSync(fullPath)) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  console.error(`Error: File already exists at ${fullPath}`);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>  process.exit(1);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>// Frontmatter 模板\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>const content = `---\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>title: ${parsedPath.name}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>published: ${getDate()}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>description: ''\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>image: ''\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>tags: []\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>category: ''\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>draft: false\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>lang: ''\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>---\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>`;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>fs.writeFileSync(fullPath, content);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>console.log(`✅ Post created at ${fullPath}`);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\u003C/section>\n\u003Csection>\u003Ch1 id=\"使用指令\">使用指令\u003Ca class=\"anchor\" href=\"#使用指令\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h1>\u003Csection>\u003Ch2 id=\"多级目录\">多级目录\u003Ca class=\"anchor\" href=\"#多级目录\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h2>\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>pnpm new-post mulu1/mulu2/index\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\u003C/section>\u003Csection>\u003Ch2 id=\"单级目录\">单级目录\u003Ca class=\"anchor\" href=\"#单级目录\">\u003Cspan class=\"anchor-icon\" data-pagefind-ignore=\"\">#\u003C/span>\u003C/a>\u003C/h2>\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>pnpm new-post index\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\u003C/section>\u003C/section>",{"headings":314,"localImagePaths":327,"remoteImagePaths":328,"frontmatter":329,"imagePaths":334},[315,318,321,324],{"depth":14,"slug":316,"text":317},"改动","改动#",{"depth":14,"slug":319,"text":320},"使用指令","使用指令#",{"depth":42,"slug":322,"text":323},"多级目录","多级目录#",{"depth":42,"slug":325,"text":326},"单级目录","单级目录#",[],[],{"title":304,"published":330,"description":306,"image":16,"tags":331,"category":85,"draft":82,"lang":16,"minutes":14,"words":332,"excerpt":333},["Date","2025-05-11T00:00:00.000Z"],[85,86],232,"scripts/new-post.js修改对应的代码：",[],"BJK/Fuwari 修改创建文章命令.md","bjk/fuwari-添加自定义页面",{"id":336,"data":338,"filePath":343,"digest":344,"rendered":345,"legacyId":354},{"title":339,"published":340,"draft":82,"description":341,"image":16,"tags":342,"category":85,"lang":16,"prevTitle":16,"prevSlug":16,"nextTitle":16,"nextSlug":16},"Fuwari 添加自定义页面",["Date","2025-05-11T00:00:00.000Z"],"自定义导航栏",[85,86],"src/content/posts/BJK/Fuwari 添加自定义页面.md","f8c032518358fd7d",{"html":16,"metadata":346},{"headings":347,"localImagePaths":348,"remoteImagePaths":349,"frontmatter":350,"imagePaths":353},[],[],[],{"title":339,"published":351,"description":341,"image":16,"tags":352,"category":85,"draft":82,"lang":16,"minutes":14,"words":15,"excerpt":16},["Date","2025-05-11T00:00:00.000Z"],[85,86],[],"BJK/Fuwari 添加自定义页面.md","bjk/fuwari-添加评论功能",{"id":355,"data":357,"filePath":362,"digest":363,"rendered":364,"legacyId":373},{"title":358,"published":359,"draft":82,"description":360,"image":16,"tags":361,"category":85,"lang":16,"prevTitle":16,"prevSlug":16,"nextTitle":16,"nextSlug":16},"Fuwari 添加评论功能",["Date","2025-05-11T00:00:00.000Z"],"用wikoo在文章底部和关于底部添加评论功能",[85,86],"src/content/posts/BJK/Fuwari 添加评论功能.md","29f78f1d8e939e22",{"html":16,"metadata":365},{"headings":366,"localImagePaths":367,"remoteImagePaths":368,"frontmatter":369,"imagePaths":372},[],[],[],{"title":358,"published":370,"description":360,"image":16,"tags":371,"category":85,"draft":82,"lang":16,"minutes":14,"words":15,"excerpt":16},["Date","2025-05-11T00:00:00.000Z"],[85,86],[],"BJK/Fuwari 添加评论功能.md"]